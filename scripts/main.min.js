(function(){"use strict";var t=false;var n=n||self;var e=typeof n!=="undefined"?n:typeof global!=="undefined"?global:this;function r(t,n){return n={exports:{}},t(n,n.exports,e),n.exports}var i=r(function(r,i,a){(function(){if("performance"in n===false){n.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in n.performance===false){var t=n.performance.timing&&n.performance.timing.navigationStart?n.performance.timing.navigationStart:Date.now();n.performance.now=function(){return Date.now()-t}}})();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var e=t.indexOf(n);if(e!==-1){t.splice(e,1)}},update:function(e){if(t.length===0){return false}var r=0;e=e!==undefined?e:n.performance.now();while(r<t.length){if(t[r].update(e)){r++}else{t.splice(r,1)}}return true}}}();o.Tween=function(t){var e=t;var r={};var i={};var a={};var u=1e3;var f=0;var l=false;var h=false;var s=false;var c=0;var g=null;var v=o.Easing.Linear.None;var p=o.Interpolation.Linear;var d=[];var m=null;var w=false;var y=null;var I=null;var M=null;for(var x in t){r[x]=parseFloat(t[x],10)}this.to=function(t,n){if(n!==undefined){u=n}i=t;return this};this.start=function(t){o.add(this);h=true;w=false;g=t!==undefined?t:n.performance.now();g+=c;for(var u in i){if(i[u]instanceof Array){if(i[u].length===0){continue}i[u]=[e[u]].concat(i[u])}if(r[u]===undefined){continue}r[u]=e[u];if(r[u]instanceof Array===false){r[u]*=1}a[u]=r[u]||0}return this};this.stop=function(){if(!h){return this}o.remove(this);h=false;if(M!==null){M.call(e)}this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var t=0,n=d.length;t<n;t++){d[t].stop()}};this.delay=function(t){c=t;return this};this.repeat=function(t){f=t;return this};this.yoyo=function(t){l=t;return this};this.easing=function(t){v=t;return this};this.interpolation=function(t){p=t;return this};this.chain=function(){d=arguments;return this};this.onStart=function(t){m=t;return this};this.onUpdate=function(t){y=t;return this};this.onComplete=function(t){I=t;return this};this.onStop=function(t){M=t;return this};this.update=function(t){var n;var o;var h;if(t<g){return true}if(w===false){if(m!==null){m.call(e)}w=true}o=(t-g)/u;o=o>1?1:o;h=v(o);for(n in i){if(r[n]===undefined){continue}var M=r[n]||0;var x=i[n];if(x instanceof Array){e[n]=p(x,h)}else{if(typeof x==="string"){if(x.startsWith("+")||x.startsWith("-")){x=M+parseFloat(x,10)}else{x=parseFloat(x,10)}}if(typeof x==="number"){e[n]=M+(x-M)*h}}}if(y!==null){y.call(e,h)}if(o===1){if(f>0){if(isFinite(f)){f--}for(n in a){if(typeof i[n]==="string"){a[n]=a[n]+parseFloat(i[n],10)}if(l){var S=a[n];a[n]=i[n];i[n]=S}r[n]=a[n]}if(l){s=!s}g=t+c;return true}else{if(I!==null){I.call(e)}for(var O=0,T=d.length;O<T;O++){d[O].start(g+u)}return false}}return true}};o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}return-(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r))},Out:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}return e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/r)+1},InOut:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}if((t*=2)<1){return-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r))}return e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r)*.5+1}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((n+1)*t-n))}return.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},InOut:function(t){if(t<.5){return o.Easing.Bounce.In(t*2)*.5}return o.Easing.Bounce.Out(t*2-1)*.5+.5}}};o.Interpolation={Linear:function(t,n){var e=t.length-1;var r=e*n;var i=Math.floor(r);var a=o.Interpolation.Utils.Linear;if(n<0){return a(t[0],t[1],r)}if(n>1){return a(t[e],t[e-1],e-r)}return a(t[i],t[i+1>e?e:i+1],r-i)},Bezier:function(t,n){var e=0;var r=t.length-1;var i=Math.pow;var a=o.Interpolation.Utils.Bernstein;for(var u=0;u<=r;u++){e+=i(1-n,r-u)*i(n,u)*t[u]*a(r,u)}return e},CatmullRom:function(t,n){var e=t.length-1;var r=e*n;var i=Math.floor(r);var a=o.Interpolation.Utils.CatmullRom;if(t[0]===t[e]){if(n<0){i=Math.floor(r=e*(1+n))}return a(t[(i-1+e)%e],t[i],t[(i+1)%e],t[(i+2)%e],r-i)}else{if(n<0){return t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0])}if(n>1){return t[e]-(a(t[e],t[e],t[e-1],t[e-1],r-e)-t[e])}return a(t[i?i-1:0],t[i],t[e<i+1?e:i+1],t[e<i+2?e:i+2],r-i)}},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=o.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n]){return t[n]}for(var r=n;r>1;r--){e*=r}t[n]=e;return e}}(),CatmullRom:function(t,n,e,r,i){var a=(e-t)*.5;var o=(r-n)*.5;var u=i*i;var f=i*u;return(2*n-2*e+a+o)*f+(-3*n+3*e-2*a-o)*u+a*i+n}}};(function(n){if(typeof t==="function"&&t.amd){t([],function(){return o})}else if(typeof r!=="undefined"&&typeof i==="object"){r.exports=o}else if(n!==undefined){n.TWEEN=o}})(e)});var a=i&&typeof i==="object"&&"default"in i?i["default"]:i;var o=document.getElementById("svg-to-raster");var u=o.querySelector("svg div");var f=document.getElementById("render-target");var l=f.clientWidth-f.clientWidth%3;var h=f.clientHeight-f.clientHeight%3;var s=document.createElement("canvas");var c="data:image/svg+xml;base64,";var g=l/3;var v=h/3;var p=new XMLSerializer;f.style.flexGrow=0;f.style.flexShrink=0;f.style.alignSelf="center";f.style.width=l+"px";f.style.height=h+"px";s.width=f.width=g;s.height=f.height=v;o.setAttribute("width",g);o.setAttribute("height",v);var d=y(s);var m=y(f);var w=function t(){var n=[].slice.call(o.querySelectorAll("link"));return Promise.all(n.map(function(t){var n=t.href;return fetch(n).then(function(t){return t.blob()}).then(function(t){return new Promise(function(n){var e=new FileReader;e.onload=function(t){n(t.target.result)};e.readAsDataURL(t)})}).then(function(n){return t.setAttribute("href",n)}).then(function(){return new Promise(function(t){return setTimeout(t,160)})})}))}();function y(t){var n=t.getContext("2d");n.mozImageSmoothingEnabled=false;n.webkitImageSmoothingEnabled=false;n.msImageSmoothingEnabled=false;n.imageSmoothingEnabled=false;return n}function I(){m.clearRect(0,0,l/3,h/3)}function M(t){if(typeof t==="string"){u.innerHTML=t}else{u.appendChild(t.clone(true))}return w.then(function(){return new Promise(function(t){var n=c+btoa(p.serializeToString(o));var e=document.createElement("img");e.src=n;e.onload=function n(){var r={x:[g,0],y:[v,0]};d.clearRect(0,0,g,v);d.drawImage(e,0,0);var i=d.getImageData(0,0,g,v);for(var a=0;a<v;a++){for(var o=0;o<g;o++){var f=(a*g+o)*4;if(i.data[f+3]!==0){if(o<r.x[0])r.x[0]=o;if(a<r.y[0])r.y[0]=a;if(o>r.x[1])r.x[1]=o;if(o>r.y[1])r.y[1]=a}}}var l=r.x[1]-r.x[0];var h=r.y[1]-r.y[0];var s=d.getImageData(r.x[0],r.y[0],l,h);d.clearRect(0,0,g,v);u.innerHTML="";t({data:s,width:l,height:h})}})})}function x(t){return new Promise(function(n){t.onComplete(n)})}M('\n	<div class="logo" style="font-size: 14px;"></div>\n').then(function(t){var n=false;var e=["START","SPLASH","CAMERA"];var r="START";t.x=(g-t.width)/2;t.y=0;var i={logo:t,highlight:{x:-30-t.width/2,y:-10,width:15,height:60}};(function e(o){requestAnimationFrame(e);a.update(o);if(n){switch(r){case"START":I();m.globalCompositeOperation="source-over";m.putImageData(t.data,i.logo.x,i.logo.y);m.globalCompositeOperation="source-atop";m.fillStyle="rgba(255,255,255,0.4)";m.beginPath();m.moveTo(i.logo.x+i.highlight.x+i.highlight.width,i.logo.y+i.highlight.y+0);m.lineTo(i.logo.x+i.highlight.x+i.highlight.width*2,i.logo.y+i.highlight.y+0);m.lineTo(i.logo.x+i.highlight.x+i.highlight.width,i.logo.y+i.highlight.y+i.highlight.height);m.lineTo(i.logo.x+i.highlight.x+0,i.logo.y+i.highlight.y+i.highlight.height);m.fill();break;case"SPLASH":I();m.globalCompositeOperation="source-over";m.putImageData(i.pageSplitTop.data,i.pageSplitTop.x,i.pageSplitTop.y);m.putImageData(i.pageSplitBottom.data,i.pageSplitBottom.x,i.pageSplitBottom.y)}}})();Promise.all([new a.Tween(i.highlight).delay(1200).to({x:i.logo.width/2+i.highlight.width*2},1e3).easing(a.Easing.Quadratic.InOut).onUpdate(function(){return n=true}).start(),new a.Tween(i.logo).to({y:(v-i.logo.height)/2},2e3).easing(a.Easing.Elastic.Out).onUpdate(function(){return n=true}).start()].map(function(t){return x(t)})).then(function(){r=e[1];var t=Math.floor(i.logo.y+i.logo.height*.4);var o=m.getImageData(0,0,g,t);var u=m.getImageData(0,t,g,v-t);i.pageSplitTop={data:o,width:g,height:t,x:0,y:0};i.pageSplitBottom={data:u,width:g,height:v-t,x:0,y:t};return Promise.all([new a.Tween(i.pageSplitTop).to({y:-i.pageSplitTop.height},1e3).easing(a.Easing.Quadratic.Out).onUpdate(function(){return n=true}).start(),new a.Tween(i.pageSplitBottom).to({y:v},1e3).easing(a.Easing.Quadratic.Out).onUpdate(function(){return n=true}).start()].map(x))})})})();
//# sourceMappingURL=main.min.js.map