(function(){"use strict";var t=false;var e=e||self;var r=typeof e!=="undefined"?e:typeof global!=="undefined"?global:this;function n(t,e){return e={exports:{}},t(e,e.exports,r),e.exports}var i={};i.slicedToArray=function(){function t(t,e){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(e&&r.length===e)break}}catch(t){i=true;a=t}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();i.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else{return Array.from(t)}};i;var a=n(function(r){(function(e,n,i,a){"use strict";var o=["","webkit","Moz","MS","ms","o"];var s=n.createElement("div");var u="function";var f=Math.round;var l=Math.abs;var h=Date.now;function c(t,e,r){return setTimeout(w(t,r),e)}function v(t,e,r){if(Array.isArray(t)){p(t,r[e],r);return true}return false}function p(t,e,r){var n;if(!t){return}if(t.forEach){t.forEach(e,r)}else if(t.length!==a){n=0;while(n<t.length){e.call(r,t[n],n,t);n++}}else{for(n in t){t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}}}function d(t,r,n){var i="DEPRECATED METHOD: "+r+"\n"+n+" AT \n";return function(){var r=new Error("get-stack-trace");var n=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var a=e.console&&(e.console.warn||e.console.log);if(a){a.call(e.console,i,n)}return t.apply(this,arguments)}}var g;if(typeof Object.assign!=="function"){g=function t(e){if(e===a||e===null){throw new TypeError("Cannot convert undefined or null to object")}var r=Object(e);for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&i!==null){for(var o in i){if(i.hasOwnProperty(o)){r[o]=i[o]}}}}return r}}else{g=Object.assign}var m=d(function t(e,r,n){var i=Object.keys(r);var o=0;while(o<i.length){if(!n||n&&e[i[o]]===a){e[i[o]]=r[i[o]]}o++}return e},"extend","Use `assign`.");var y=d(function t(e,r){return m(e,r,true)},"merge","Use `assign`.");function b(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n);i.constructor=t;i._super=n;if(r){g(i,r)}}function w(t,e){return function r(){return t.apply(e,arguments)}}function x(t,e){if(typeof t==u){return t.apply(e?e[0]||a:a,e)}return t}function T(t,e){return t===a?e:t}function _(t,e,r){p(S(e),function(e){t.addEventListener(e,r,false)})}function A(t,e,r){p(S(e),function(e){t.removeEventListener(e,r,false)})}function E(t,e){while(t){if(t==e){return true}t=t.parentNode}return false}function I(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function M(t,e,r){if(t.indexOf&&!r){return t.indexOf(e)}else{var n=0;while(n<t.length){if(r&&t[n][r]==e||!r&&t[n]===e){return n}n++}return-1}}function P(t){return Array.prototype.slice.call(t,0)}function O(t,e,r){var n=[];var i=[];var a=0;while(a<t.length){var o=e?t[a][e]:t[a];if(M(i,o)<0){n.push(t[a])}i[a]=o;a++}if(r){if(!e){n=n.sort()}else{n=n.sort(function t(r,n){return r[e]>n[e]})}}return n}function k(t,e){var r,n;var i=e[0].toUpperCase()+e.slice(1);var s=0;while(s<o.length){r=o[s];n=r?r+i:e;if(n in t){return n}s++}return a}var C=1;function R(){return C++}function D(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||e}var F=/mobile|tablet|ip(ad|hone|od)|android/i;var H="ontouchstart"in e;var L=k(e,"PointerEvent")!==a;var z=H&&F.test(navigator.userAgent);var N="touch";var q="pen";var U="mouse";var W="kinect";var X=25;var j=1;var Y=2;var B=4;var G=8;var V=1;var Q=2;var $=4;var Z=8;var J=16;var K=Q|$;var tt=Z|J;var et=K|tt;var rt=["x","y"];var nt=["clientX","clientY"];function it(t,e){var r=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){if(x(t.options.enable,[t])){r.handler(e)}};this.init()}it.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler);this.evTarget&&_(this.target,this.evTarget,this.domHandler);this.evWin&&_(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler);this.evTarget&&A(this.target,this.evTarget,this.domHandler);this.evWin&&A(D(this.element),this.evWin,this.domHandler)}};function at(t){var e;var r=t.options.inputClass;if(r){e=r}else if(L){e=It}else if(z){e=Dt}else if(!H){e=xt}else{e=Ht}return new e(t,ot)}function ot(t,e,r){var n=r.pointers.length;var i=r.changedPointers.length;var a=e&j&&n-i===0;var o=e&(B|G)&&n-i===0;r.isFirst=!!a;r.isFinal=!!o;if(a){t.session={}}r.eventType=e;st(t,r);t.emit("hammer.input",r);t.recognize(r);t.session.prevInput=r}function st(t,e){var r=t.session;var n=e.pointers;var i=n.length;if(!r.firstInput){r.firstInput=lt(e)}if(i>1&&!r.firstMultiple){r.firstMultiple=lt(e)}else if(i===1){r.firstMultiple=false}var a=r.firstInput;var o=r.firstMultiple;var s=o?o.center:a.center;var u=e.center=ht(n);e.timeStamp=h();e.deltaTime=e.timeStamp-a.timeStamp;e.angle=dt(s,u);e.distance=pt(s,u);ut(r,e);e.offsetDirection=vt(e.deltaX,e.deltaY);var f=ct(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x;e.overallVelocityY=f.y;e.overallVelocity=l(f.x)>l(f.y)?f.x:f.y;e.scale=o?mt(o.pointers,n):1;e.rotation=o?gt(o.pointers,n):0;e.maxPointers=!r.prevInput?e.pointers.length:e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers;ft(r,e);var c=t.element;if(E(e.srcEvent.target,c)){c=e.srcEvent.target}e.target=c}function ut(t,e){var r=e.center;var n=t.offsetDelta||{};var i=t.prevDelta||{};var a=t.prevInput||{};if(e.eventType===j||a.eventType===B){i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0};n=t.offsetDelta={x:r.x,y:r.y}}e.deltaX=i.x+(r.x-n.x);e.deltaY=i.y+(r.y-n.y)}function ft(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,o,s,u;if(e.eventType!=G&&(n>X||r.velocity===a)){var f=e.deltaX-r.deltaX;var h=e.deltaY-r.deltaY;var c=ct(n,f,h);o=c.x;s=c.y;i=l(c.x)>l(c.y)?c.x:c.y;u=vt(f,h);t.lastInterval=e}else{i=r.velocity;o=r.velocityX;s=r.velocityY;u=r.direction}e.velocity=i;e.velocityX=o;e.velocityY=s;e.direction=u}function lt(t){var e=[];var r=0;while(r<t.pointers.length){e[r]={clientX:f(t.pointers[r].clientX),clientY:f(t.pointers[r].clientY)};r++}return{timeStamp:h(),pointers:e,center:ht(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ht(t){var e=t.length;if(e===1){return{x:f(t[0].clientX),y:f(t[0].clientY)}}var r=0,n=0,i=0;while(i<e){r+=t[i].clientX;n+=t[i].clientY;i++}return{x:f(r/e),y:f(n/e)}}function ct(t,e,r){return{x:e/t||0,y:r/t||0}}function vt(t,e){if(t===e){return V}if(l(t)>=l(e)){return t<0?Q:$}return e<0?Z:J}function pt(t,e,r){if(!r){r=rt}var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function dt(t,e,r){if(!r){r=rt}var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function gt(t,e){return dt(e[1],e[0],nt)+dt(t[1],t[0],nt)}function mt(t,e){return pt(e[0],e[1],nt)/pt(t[0],t[1],nt)}var yt={mousedown:j,mousemove:Y,mouseup:B};var bt="mousedown";var wt="mousemove mouseup";function xt(){this.evEl=bt;this.evWin=wt;this.allow=true;this.pressed=false;it.apply(this,arguments)}b(xt,it,{handler:function t(e){var r=yt[e.type];if(r&j&&e.button===0){this.pressed=true}if(r&Y&&e.which!==1){r=B}if(!this.pressed||!this.allow){return}if(r&B){this.pressed=false}this.callback(this.manager,r,{pointers:[e],changedPointers:[e],pointerType:U,srcEvent:e})}});var Tt={pointerdown:j,pointermove:Y,pointerup:B,pointercancel:G,pointerout:G};var _t={2:N,3:q,4:U,5:W};var At="pointerdown";var Et="pointermove pointerup pointercancel";if(e.MSPointerEvent&&!e.PointerEvent){At="MSPointerDown";Et="MSPointerMove MSPointerUp MSPointerCancel"}function It(){this.evEl=At;this.evWin=Et;it.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}b(It,it,{handler:function t(e){var r=this.store;var n=false;var i=e.type.toLowerCase().replace("ms","");var a=Tt[i];var o=_t[e.pointerType]||e.pointerType;var s=o==N;var u=M(r,e.pointerId,"pointerId");if(a&j&&(e.button===0||s)){if(u<0){r.push(e);u=r.length-1}}else if(a&(B|G)){n=true}if(u<0){return}r[u]=e;this.callback(this.manager,a,{pointers:r,changedPointers:[e],pointerType:o,srcEvent:e});if(n){r.splice(u,1)}}});var St={touchstart:j,touchmove:Y,touchend:B,touchcancel:G};var Mt="touchstart";var Pt="touchstart touchmove touchend touchcancel";function Ot(){this.evTarget=Mt;this.evWin=Pt;this.started=false;it.apply(this,arguments)}b(Ot,it,{handler:function t(e){var r=St[e.type];if(r===j){this.started=true}if(!this.started){return}var n=kt.call(this,e,r);if(r&(B|G)&&n[0].length-n[1].length===0){this.started=false}this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}});function kt(t,e){var r=P(t.touches);var n=P(t.changedTouches);if(e&(B|G)){r=O(r.concat(n),"identifier",true)}return[r,n]}var Ct={touchstart:j,touchmove:Y,touchend:B,touchcancel:G};var Rt="touchstart touchmove touchend touchcancel";function Dt(){this.evTarget=Rt;this.targetIds={};it.apply(this,arguments)}b(Dt,it,{handler:function t(e){var r=Ct[e.type];var n=Ft.call(this,e,r);if(!n){return}this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}});function Ft(t,e){var r=P(t.touches);var n=this.targetIds;if(e&(j|Y)&&r.length===1){n[r[0].identifier]=true;return[r,r]}var i,a,o=P(t.changedTouches),s=[],u=this.target;a=r.filter(function(t){return E(t.target,u)});if(e===j){i=0;while(i<a.length){n[a[i].identifier]=true;i++}}i=0;while(i<o.length){if(n[o[i].identifier]){s.push(o[i])}if(e&(B|G)){delete n[o[i].identifier]}i++}if(!s.length){return}return[O(a.concat(s),"identifier",true),s]}function Ht(){it.apply(this,arguments);var t=w(this.handler,this);this.touch=new Dt(this.manager,t);this.mouse=new xt(this.manager,t)}b(Ht,it,{handler:function t(e,r,n){var i=n.pointerType==N,a=n.pointerType==U;if(i){this.mouse.allow=false}else if(a&&!this.mouse.allow){return}if(r&(B|G)){this.mouse.allow=true}this.callback(e,r,n)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});var Lt=k(s.style,"touchAction");var zt=Lt!==a;var Nt="compute";var qt="auto";var Ut="manipulation";var Wt="none";var Xt="pan-x";var jt="pan-y";function Yt(t,e){this.manager=t;this.set(e)}Yt.prototype={set:function(t){if(t==Nt){t=this.compute()}if(zt&&this.manager.element.style){this.manager.element.style[Lt]=t}this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];p(this.manager.recognizers,function(e){if(x(e.options.enable,[e])){t=t.concat(e.getTouchAction())}});return Bt(t.join(" "))},preventDefaults:function(t){if(zt){return}var e=t.srcEvent;var r=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var n=this.actions;var i=I(n,Wt);var a=I(n,jt);var o=I(n,Xt);if(i){var s=t.pointers.length===1;var u=t.distance<2;var f=t.deltaTime<250;if(s&&u&&f){return}}if(o&&a){return}if(i||a&&r&K||o&&r&tt){return this.preventSrc(e)}},preventSrc:function(t){this.manager.session.prevented=true;t.preventDefault()}};function Bt(t){if(I(t,Wt)){return Wt}var e=I(t,Xt);var r=I(t,jt);if(e&&r){return Wt}if(e||r){return e?Xt:jt}if(I(t,Ut)){return Ut}return qt}var Gt=1;var Vt=2;var Qt=4;var $t=8;var Zt=$t;var Jt=16;var Kt=32;function te(t){this.options=g({},this.defaults,t||{});this.id=R();this.manager=null;this.options.enable=T(this.options.enable,true);this.state=Gt;this.simultaneous={};this.requireFail=[]}te.prototype={defaults:{},set:function(t){g(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(v(t,"recognizeWith",this)){return this}var e=this.simultaneous;t=ne(t,this);if(!e[t.id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(v(t,"dropRecognizeWith",this)){return this}t=ne(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(v(t,"requireFailure",this)){return this}var e=this.requireFail;t=ne(t,this);if(M(e,t)===-1){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this)){return this}t=ne(t,this);var e=M(this.requireFail,t);if(e>-1){this.requireFail.splice(e,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this;var r=this.state;function n(r){e.manager.emit(r,t)}if(r<$t){n(e.options.event+ee(r))}n(e.options.event);if(t.additionalEvent){n(t.additionalEvent)}if(r>=$t){n(e.options.event+ee(r))}},tryEmit:function(t){if(this.canEmit()){return this.emit(t)}this.state=Kt},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(Kt|Gt))){return false}t++}return true},recognize:function(t){var e=g({},t);if(!x(this.options.enable,[this,e])){this.reset();this.state=Kt;return}if(this.state&(Zt|Jt|Kt)){this.state=Gt}this.state=this.process(e);if(this.state&(Vt|Qt|$t|Jt)){this.tryEmit(e)}},process:function(t){},getTouchAction:function(){},reset:function(){}};function ee(t){if(t&Jt){return"cancel"}else if(t&$t){return"end"}else if(t&Qt){return"move"}else if(t&Vt){return"start"}return""}function re(t){if(t==J){return"down"}else if(t==Z){return"up"}else if(t==Q){return"left"}else if(t==$){return"right"}return""}function ne(t,e){var r=e.manager;if(r){return r.get(t)}return t}function ie(){te.apply(this,arguments)}b(ie,te,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state;var r=t.eventType;var n=e&(Vt|Qt);var i=this.attrTest(t);if(n&&(r&G||!i)){return e|Jt}else if(n||i){if(r&B){return e|$t}else if(!(e&Vt)){return Vt}return e|Qt}return Kt}});function ae(){ie.apply(this,arguments);this.pX=null;this.pY=null}b(ae,ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:et},getTouchAction:function(){var t=this.options.direction;var e=[];if(t&K){e.push(jt)}if(t&tt){e.push(Xt)}return e},directionTest:function(t){var e=this.options;var r=true;var n=t.distance;var i=t.direction;var a=t.deltaX;var o=t.deltaY;if(!(i&e.direction)){if(e.direction&K){i=a===0?V:a<0?Q:$;r=a!=this.pX;n=Math.abs(t.deltaX)}else{i=o===0?V:o<0?Z:J;r=o!=this.pY;n=Math.abs(t.deltaY)}}t.direction=i;return r&&n>e.threshold&&i&e.direction},attrTest:function(t){return ie.prototype.attrTest.call(this,t)&&(this.state&Vt||!(this.state&Vt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=re(t.direction);if(e){t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function oe(){ie.apply(this,arguments)}b(oe,ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Vt)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function se(){te.apply(this,arguments);this._timer=null;this._input=null}b(se,te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qt]},process:function(t){var e=this.options;var r=t.pointers.length===e.pointers;var n=t.distance<e.threshold;var i=t.deltaTime>e.time;this._input=t;if(!n||!r||t.eventType&(B|G)&&!i){this.reset()}else if(t.eventType&j){this.reset();this._timer=c(function(){this.state=Zt;this.tryEmit()},e.time,this)}else if(t.eventType&B){return Zt}return Kt},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state!==Zt){return}if(t&&t.eventType&B){this.manager.emit(this.options.event+"up",t)}else{this._input.timeStamp=h();this.manager.emit(this.options.event,this._input)}}});function ue(){ie.apply(this,arguments)}b(ue,ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Vt)}});function fe(){ie.apply(this,arguments)}b(fe,ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|tt,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction;var r;if(e&(K|tt)){r=t.overallVelocity}else if(e&K){r=t.overallVelocityX}else if(e&tt){r=t.overallVelocityY}return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(r)>this.options.velocity&&t.eventType&B},emit:function(t){var e=re(t.offsetDirection);if(e){this.manager.emit(this.options.event+e,t)}this.manager.emit(this.options.event,t)}});function le(){te.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}b(le,te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options;var r=t.pointers.length===e.pointers;var n=t.distance<e.threshold;var i=t.deltaTime<e.time;this.reset();if(t.eventType&j&&this.count===0){return this.failTimeout()}if(n&&i&&r){if(t.eventType!=B){return this.failTimeout()}var a=this.pTime?t.timeStamp-this.pTime<e.interval:true;var o=!this.pCenter||pt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;if(!o||!a){this.count=1}else{this.count+=1}this._input=t;var s=this.count%e.taps;if(s===0){if(!this.hasRequireFailures()){return Zt}else{this._timer=c(function(){this.state=Zt;this.tryEmit()},e.interval,this);return Vt}}}return Kt},failTimeout:function(){this._timer=c(function(){this.state=Kt},this.options.interval,this);return Kt},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==Zt){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function he(t,e){e=e||{};e.recognizers=T(e.recognizers,he.defaults.preset);return new pe(t,e)}he.VERSION="2.0.6";he.defaults={domEvents:false,touchAction:Nt,enable:true,inputTarget:null,inputClass:null,preset:[[ue,{enable:false}],[oe,{enable:false},["rotate"]],[fe,{direction:K}],[ae,{direction:K},["swipe"]],[le],[le,{event:"doubletap",taps:2},["tap"]],[se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ce=1;var ve=2;function pe(t,e){this.options=g({},he.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.element=t;this.input=at(this);this.touchAction=new Yt(this,this.options.touchAction);de(this,true);p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}pe.prototype={set:function(t){g(this.options,t);if(t.touchAction){this.touchAction.update()}if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?ve:ce},recognize:function(t){var e=this.session;if(e.stopped){return}this.touchAction.preventDefaults(t);var r;var n=this.recognizers;var i=e.curRecognizer;if(!i||i&&i.state&Zt){i=e.curRecognizer=null}var a=0;while(a<n.length){r=n[a];if(e.stopped!==ve&&(!i||r==i||r.canRecognizeWith(i))){r.recognize(t)}else{r.reset()}if(!i&&r.state&(Vt|Qt|$t)){i=e.curRecognizer=r}a++}},get:function(t){if(t instanceof te){return t}var e=this.recognizers;for(var r=0;r<e.length;r++){if(e[r].options.event==t){return e[r]}}return null},add:function(t){if(v(t,"add",this)){return this}var e=this.get(t.options.event);if(e){this.remove(e)}this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(v(t,"remove",this)){return this}t=this.get(t);if(t){var e=this.recognizers;var r=M(e,t);if(r!==-1){e.splice(r,1);this.touchAction.update()}}return this},on:function(t,e){var r=this.handlers;p(S(t),function(t){r[t]=r[t]||[];r[t].push(e)});return this},off:function(t,e){var r=this.handlers;p(S(t),function(t){if(!e){delete r[t]}else{r[t]&&r[t].splice(M(r[t],e),1)}});return this},emit:function(t,e){if(this.options.domEvents){ge(t,e)}var r=this.handlers[t]&&this.handlers[t].slice();if(!r||!r.length){return}e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<r.length){r[n](e);n++}},destroy:function(){this.element&&de(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function de(t,e){var r=t.element;if(!r.style){return}p(t.options.cssProps,function(t,n){r.style[k(r.style,n)]=e?t:""})}function ge(t,e){var r=n.createEvent("Event");r.initEvent(t,true,true);r.gesture=e;e.target.dispatchEvent(r)}g(he,{INPUT_START:j,INPUT_MOVE:Y,INPUT_END:B,INPUT_CANCEL:G,STATE_POSSIBLE:Gt,STATE_BEGAN:Vt,STATE_CHANGED:Qt,STATE_ENDED:$t,STATE_RECOGNIZED:Zt,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:V,DIRECTION_LEFT:Q,DIRECTION_RIGHT:$,DIRECTION_UP:Z,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:tt,DIRECTION_ALL:et,Manager:pe,Input:it,TouchAction:Yt,TouchInput:Dt,MouseInput:xt,PointerEventInput:It,TouchMouseInput:Ht,SingleTouchInput:Ot,Recognizer:te,AttrRecognizer:ie,Tap:le,Pan:ae,Swipe:fe,Pinch:oe,Rotate:ue,Press:se,on:_,off:A,each:p,merge:y,extend:m,assign:g,inherit:b,bindFn:w,prefixed:k});var me=typeof e!=="undefined"?e:typeof self!=="undefined"?self:{};me.Hammer=he;if(typeof t==="function"&&t.amd){t(function(){return he})}else if(typeof r!="undefined"&&r.exports){r.exports=he}else{e[i]=he}})(e,document,"Hammer")});var o=a&&typeof a==="object"&&"default"in a?a["default"]:a;var s=n(function(n,i,a){(function(){if("performance"in e===false){e.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in e.performance===false){var t=e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}})();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var r=t.indexOf(e);if(r!==-1){t.splice(r,1)}},update:function(r){if(t.length===0){return false}var n=0;r=r!==undefined?r:e.performance.now();while(n<t.length){if(t[n].update(r)){n++}else{t.splice(n,1)}}return true}}}();o.Tween=function(t){var r=t;var n={};var i={};var a={};var s=1e3;var u=0;var f=false;var l=false;var h=false;var c=0;var v=null;var p=o.Easing.Linear.None;var d=o.Interpolation.Linear;var g=[];var m=null;var y=false;var b=null;var w=null;var x=null;for(var T in t){n[T]=parseFloat(t[T],10)}this.to=function(t,e){if(e!==undefined){s=e}i=t;return this};this.start=function(t){o.add(this);l=true;y=false;v=t!==undefined?t:e.performance.now();v+=c;for(var s in i){if(i[s]instanceof Array){if(i[s].length===0){continue}i[s]=[r[s]].concat(i[s])}if(n[s]===undefined){continue}n[s]=r[s];if(n[s]instanceof Array===false){n[s]*=1}a[s]=n[s]||0}return this};this.stop=function(){if(!l){return this}o.remove(this);l=false;if(x!==null){x.call(r)}this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var t=0,e=g.length;t<e;t++){g[t].stop()}};this.delay=function(t){c=t;return this};this.repeat=function(t){u=t;return this};this.yoyo=function(t){f=t;return this};this.easing=function(t){p=t;return this};this.interpolation=function(t){d=t;return this};this.chain=function(){g=arguments;return this};this.onStart=function(t){m=t;return this};this.onUpdate=function(t){b=t;return this};this.onComplete=function(t){w=t;return this};this.onStop=function(t){x=t;return this};this.update=function(t){var e;var o;var l;if(t<v){return true}if(y===false){if(m!==null){m.call(r)}y=true}o=(t-v)/s;o=o>1?1:o;l=p(o);for(e in i){if(n[e]===undefined){continue}var x=n[e]||0;var T=i[e];if(T instanceof Array){r[e]=d(T,l)}else{if(typeof T==="string"){if(T.startsWith("+")||T.startsWith("-")){T=x+parseFloat(T,10)}else{T=parseFloat(T,10)}}if(typeof T==="number"){r[e]=x+(T-x)*l}}}if(b!==null){b.call(r,l)}if(o===1){if(u>0){if(isFinite(u)){u--}for(e in a){if(typeof i[e]==="string"){a[e]=a[e]+parseFloat(i[e],10)}if(f){var _=a[e];a[e]=i[e];i[e]=_}n[e]=a[e]}if(f){h=!h}v=t+c;return true}else{if(w!==null){w.call(r)}for(var A=0,E=g.length;A<E;A++){g[A].start(v+s)}return false}}return true}};o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e;var r=.1;var n=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=n/4}else{e=n*Math.asin(1/r)/(2*Math.PI)}return-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},Out:function(t){var e;var r=.1;var n=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=n/4}else{e=n*Math.asin(1/r)/(2*Math.PI)}return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1},InOut:function(t){var e;var r=.1;var n=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=n/4}else{e=n*Math.asin(1/r)/(2*Math.PI)}if((t*=2)<1){return-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))}return r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},InOut:function(t){if(t<.5){return o.Easing.Bounce.In(t*2)*.5}return o.Easing.Bounce.Out(t*2-1)*.5+.5}}};o.Interpolation={Linear:function(t,e){var r=t.length-1;var n=r*e;var i=Math.floor(n);var a=o.Interpolation.Utils.Linear;if(e<0){return a(t[0],t[1],n)}if(e>1){return a(t[r],t[r-1],r-n)}return a(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){var r=0;var n=t.length-1;var i=Math.pow;var a=o.Interpolation.Utils.Bernstein;for(var s=0;s<=n;s++){r+=i(1-e,n-s)*i(e,s)*t[s]*a(n,s)}return r},CatmullRom:function(t,e){var r=t.length-1;var n=r*e;var i=Math.floor(n);var a=o.Interpolation.Utils.CatmullRom;if(t[0]===t[r]){if(e<0){i=Math.floor(n=r*(1+e))}return a(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)}else{if(e<0){return t[0]-(a(t[0],t[0],t[1],t[1],-n)-t[0])}if(e>1){return t[r]-(a(t[r],t[r],t[r-1],t[r-1],n-r)-t[r])}return a(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)}},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=o.Interpolation.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e]){return t[e]}for(var n=e;n>1;n--){r*=n}t[e]=r;return r}}(),CatmullRom:function(t,e,r,n,i){var a=(r-t)*.5;var o=(n-e)*.5;var s=i*i;var u=i*s;return(2*e-2*r+a+o)*u+(-3*e+3*r-2*a-o)*s+a*i+e}}};(function(e){if(typeof t==="function"&&t.amd){t([],function(){return o})}else if(typeof n!=="undefined"&&typeof i==="object"){n.exports=o}else if(e!==undefined){e.TWEEN=o}})(r)});var u=s&&typeof s==="object"&&"default"in s?s["default"]:s;function f(t){var e=new Promise(function(e,r){var n=document.createElement("script");n.setAttribute("src",t);document.head.appendChild(n);n.onload=e;n.onerror=r});function r(){return e}r.promise=e;return r}var l=void 0;var h=void 0;function c(t){l=t.sizes;h=t.context}function v(t){var e=t.getContext("2d");e.mozImageSmoothingEnabled=false;e.webkitImageSmoothingEnabled=false;e.msImageSmoothingEnabled=false;e.imageSmoothingEnabled=false;return e}function p(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var r=e.context||h;var n=r.globalCompositeOperation;var i=r.globalAlpha;var a=r.fillStyle;r.globalCompositeOperation=e.composite||"source-over";if(e.opacity!==undefined){r.globalAlpha=e.opacity}else{r.globalAlpha=1}r.fillStyle=t;r.rect(0,0,l.screen.width,l.screen.height);r.fill();r.fillStyle=a;r.globalAlpha=i;r.globalCompositeOperation=n}function d(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];(e.context||h).clearRect(0,0,l.screen.width,l.screen.height);if(t)p(t)}function g(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var e=t.context||h;var r=e.globalCompositeOperation;var n=e.globalAlpha;e.globalCompositeOperation=t.composite||"source-over";if(this.opacity!==undefined){e.globalAlpha=this.opacity}else if(t.opacity!==undefined){e.globalAlpha=t.opacity}else{e.globalAlpha=1}e.drawImage(this.buffer,this.x+(this.dx||0),this.y+(this.dy||0));e.globalAlpha=n;e.globalCompositeOperation=r}function m(){var t=arguments.length<=0||arguments[0]===undefined?l.screen.width:arguments[0];var e=arguments.length<=1||arguments[1]===undefined?l.screen.height:arguments[1];var r=document.createElement("canvas");r.width=t;r.height=e;r.context=r.getContext("2d");return r}function y(t,e,r,n){var i=h.getImageData(t,e,r,n);var a=new m(r,n);a.context.putImageData(i,0,0);return{buffer:a,width:r,height:n,x:t,y:e,render:g}}function b(t,e){var r=new m(t,e);return{buffer:r,width:t,height:e,x:0,y:0,render:g}}function w(t){var e=document.createElement("img");return new Promise(function(r,n){e.onerror=function t(e){n(e)};e.onload=function t(){r(e)};e.src=t})}function x(t){return w(t).then(function(t){return{width:t.width,height:t.height,x:0,y:0,buffer:t,render:g}})}var T=document.getElementById("svg-to-raster");var _=document.createElement("canvas");var A=v(_);var E=T.querySelector("svg div");var I="data:image/svg+xml;base64,";var S=new XMLSerializer;var M=void 0;var P=void 0;var O=false;function k(t){var e=t.sizes;M=e.screen.width;P=e.screen.height;_.width=M;_.height=P;T.setAttribute("width",M);T.setAttribute("height",P);O=true}function C(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++){e[r]=arguments[r]}return Promise.all(e.map(function(t){var e=void 0;var r=void 0;r=t.getAttribute("src");if(r){e="src"}else{r=t.getAttribute("href");e="href"}if(!r)return Promise.reject("No url");return fetch(r).then(function(t){return t.blob()}).then(function(t){return new Promise(function(e){var r=new FileReader;r.onload=function(t){e(t.target.result)};r.readAsDataURL(t)})}).then(function(r){return t.setAttribute(e,r)}).then(function(){return new Promise(function(t){return setTimeout(t,160)})})}))}var R=C.apply(undefined,i.toConsumableArray(T.querySelectorAll("link")));var D=Promise.resolve();function F(t){if(!O)throw Error("Need to init svg-render with width and height");D=D.then(function(){return R}).then(function(){return new Promise(function(e){if(typeof t==="string"){E.innerHTML=t}else{(function(){var e=t.cloneNode(true);e.style.transform="";e.classList.remove("fake-render");E.appendChild(e);var r=new Map;var n=[].slice.call(e.querySelectorAll("*"));n.forEach(function(t){r.set(t,{left:t.offsetLeft,top:t.offsetTop,height:t.offsetHeight,
width:t.offsetWidth})});n.forEach(function(t){t.style.position="absolute";var e=r.get(t);t.style.left=e.left+"px";t.style.top=e.top+"px";t.style.width=e.width+"px";t.style.height=e.height+"px"})})()}var r=I+btoa(S.serializeToString(T));var n=document.createElement("img");n.onload=i;n.src=r;function i(){setTimeout(a,32)}function a(){var t={x:[M,0],y:[P,0]};A.clearRect(0,0,M,P);A.drawImage(n,0,0);var r=A.getImageData(0,0,M,P);for(var i=0;i<P;i++){for(var a=0;a<M;a++){var o=(i*M+a)*4;if(r.data[o+3]!==0){if(a<t.x[0])t.x[0]=a;if(i<t.y[0])t.y[0]=i;if(a>t.x[1])t.x[1]=a;if(i>t.y[1])t.y[1]=i}}}E.innerHTML="";var s=t.x[1]-t.x[0]+1;var u=t.y[1]-t.y[0]+1;var f=A.getImageData(t.x[0],t.y[0],s,u);A.clearRect(0,0,M,P);var l=new m(s,u);l.context.putImageData(f,0,0);e({width:s,height:u,buffer:l,x:t.x[0],y:t.y[0],render:g})}})});return D}var H=n(function(r){(function(){var n=/^\s+/,i=/\s+$/,a=0,o=Math,s=o.round,u=o.min,f=o.max,l=o.random;function h(t,e){t=t?t:"";e=e||{};if(t instanceof h){return t}if(!(this instanceof h)){return new h(t,e)}var r=c(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=s(100*this._a)/100,this._format=e.format||r.format;this._gradientType=e.gradientType;if(this._r<1){this._r=s(this._r)}if(this._g<1){this._g=s(this._g)}if(this._b<1){this._b=s(this._b)}this._ok=r.ok;this._tc_id=a++}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb();var e,r,n,i,a,o;e=t.r/255;r=t.g/255;n=t.b/255;if(e<=.03928){i=e/12.92}else{i=Math.pow((e+.055)/1.055,2.4)}if(r<=.03928){a=r/12.92}else{a=Math.pow((r+.055)/1.055,2.4)}if(n<=.03928){o=n/12.92}else{o=Math.pow((n+.055)/1.055,2.4)}return.2126*i+.7152*a+.0722*o},setAlpha:function(t){this._a=H(t);this._roundA=s(100*this._a)/100;return this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b);var e=s(t.h*360),r=s(t.s*100),n=s(t.v*100);return this._a==1?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b);var e=s(t.h*360),r=s(t.s*100),n=s(t.l*100);return this._a==1?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return y(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return b(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(L(this._r,255)*100)+"%",g:s(L(this._g,255)*100)+"%",b:s(L(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(L(this._r,255)*100)+"%, "+s(L(this._g,255)*100)+"%, "+s(L(this._b,255)*100)+"%)":"rgba("+s(L(this._r,255)*100)+"%, "+s(L(this._g,255)*100)+"%, "+s(L(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0){return"transparent"}if(this._a<1){return false}return D[y(this._r,this._g,this._b,true)]||false},toFilter:function(t){var e="#"+b(this._r,this._g,this._b,this._a);var r=e;var n=this._gradientType?"GradientType = 1, ":"";if(t){var i=h(t);r=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=false;var n=this._a<1&&this._a>=0;var i=!e&&n&&(t==="hex"||t==="hex6"||t==="hex3"||t==="name");if(i){if(t==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(t==="rgb"){r=this.toRgbString()}if(t==="prgb"){r=this.toPercentageRgbString()}if(t==="hex"||t==="hex6"){r=this.toHexString()}if(t==="hex3"){r=this.toHexString(true)}if(t==="hex8"){r=this.toHex8String()}if(t==="name"){r=this.toName()}if(t==="hsl"){r=this.toHslString()}if(t==="hsv"){r=this.toHsvString()}return r||this.toHexString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));this._r=r._r;this._g=r._g;this._b=r._b;this.setAlpha(r._a);return this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(I,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}};h.fromRatio=function(t,e){if(typeof t=="object"){var r={};for(var n in t){if(t.hasOwnProperty(n)){if(n==="a"){r[n]=t[n]}else{r[n]=X(t[n])}}}t=r}return h(t,e)};function c(t){var e={r:0,g:0,b:0};var r=1;var n=false;var i=false;if(typeof t=="string"){t=G(t)}if(typeof t=="object"){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")){e=v(t.r,t.g,t.b);n=true;i=String(t.r).substr(-1)==="%"?"prgb":"rgb"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")){t.s=X(t.s);t.v=X(t.v);e=m(t.h,t.s,t.v);n=true;i="hsv"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){t.s=X(t.s);t.l=X(t.l);e=d(t.h,t.s,t.l);n=true;i="hsl"}if(t.hasOwnProperty("a")){r=t.a}}r=H(r);return{ok:n,format:t.format||i,r:u(255,f(e.r,0)),g:u(255,f(e.g,0)),b:u(255,f(e.b,0)),a:r}}function v(t,e,r){return{r:L(t,255)*255,g:L(e,255)*255,b:L(r,255)*255}}function p(t,e,r){t=L(t,255);e=L(e,255);r=L(r,255);var n=f(t,e,r),i=u(t,e,r);var a,o,s=(n+i)/2;if(n==i){a=o=0}else{var l=n-i;o=s>.5?l/(2-n-i):l/(n+i);switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function d(t,e,r){var n,i,a;t=L(t,360);e=L(e,100);r=L(r,100);function o(t,e,r){if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return t+(e-t)*6*r;if(r<1/2)return e;if(r<2/3)return t+(e-t)*(2/3-r)*6;return t}if(e===0){n=i=a=r}else{var s=r<.5?r*(1+e):r+e-r*e;var u=2*r-s;n=o(u,s,t+1/3);i=o(u,s,t);a=o(u,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function g(t,e,r){t=L(t,255);e=L(e,255);r=L(r,255);var n=f(t,e,r),i=u(t,e,r);var a,o,s=n;var l=n-i;o=n===0?0:l/n;if(n==i){a=0}else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function m(t,e,r){t=L(t,360)*6;e=L(e,100);r=L(r,100);var n=o.floor(t),i=t-n,a=r*(1-e),s=r*(1-i*e),u=r*(1-(1-i)*e),f=n%6,l=[r,s,a,a,u,r][f],h=[u,r,r,s,a,a][f],c=[a,a,u,r,r,s][f];return{r:l*255,g:h*255,b:c*255}}function y(t,e,r,n){var i=[W(s(t).toString(16)),W(s(e).toString(16)),W(s(r).toString(16))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)){return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)}return i.join("")}function b(t,e,r,n){var i=[W(j(n)),W(s(t).toString(16)),W(s(e).toString(16)),W(s(r).toString(16))];return i.join("")}h.equals=function(t,e){if(!t||!e){return false}return h(t).toRgbString()==h(e).toRgbString()};h.random=function(){return h.fromRatio({r:l(),g:l(),b:l()})};function w(t,e){e=e===0?0:e||10;var r=h(t).toHsl();r.s-=e/100;r.s=z(r.s);return h(r)}function x(t,e){e=e===0?0:e||10;var r=h(t).toHsl();r.s+=e/100;r.s=z(r.s);return h(r)}function T(t){return h(t).desaturate(100)}function _(t,e){e=e===0?0:e||10;var r=h(t).toHsl();r.l+=e/100;r.l=z(r.l);return h(r)}function A(t,e){e=e===0?0:e||10;var r=h(t).toRgb();r.r=f(0,u(255,r.r-s(255*-(e/100))));r.g=f(0,u(255,r.g-s(255*-(e/100))));r.b=f(0,u(255,r.b-s(255*-(e/100))));return h(r)}function E(t,e){e=e===0?0:e||10;var r=h(t).toHsl();r.l-=e/100;r.l=z(r.l);return h(r)}function I(t,e){var r=h(t).toHsl();var n=(s(r.h)+e)%360;r.h=n<0?360+n:n;return h(r)}function S(t){var e=h(t).toHsl();e.h=(e.h+180)%360;return h(e)}function M(t){var e=h(t).toHsl();var r=e.h;return[h(t),h({h:(r+120)%360,s:e.s,l:e.l}),h({h:(r+240)%360,s:e.s,l:e.l})]}function P(t){var e=h(t).toHsl();var r=e.h;return[h(t),h({h:(r+90)%360,s:e.s,l:e.l}),h({h:(r+180)%360,s:e.s,l:e.l}),h({h:(r+270)%360,s:e.s,l:e.l})]}function O(t){var e=h(t).toHsl();var r=e.h;return[h(t),h({h:(r+72)%360,s:e.s,l:e.l}),h({h:(r+216)%360,s:e.s,l:e.l})]}function k(t,e,r){e=e||6;r=r||30;var n=h(t).toHsl();var i=360/r;var a=[h(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;){n.h=(n.h+i)%360;a.push(h(n))}return a}function C(t,e){e=e||6;var r=h(t).toHsv();var n=r.h,i=r.s,a=r.v;var o=[];var s=1/e;while(e--){o.push(h({h:n,s:i,v:a}));a=(a+s)%1}return o}h.mix=function(t,e,r){r=r===0?0:r||50;var n=h(t).toRgb();var i=h(e).toRgb();var a=r/100;var o=a*2-1;var s=i.a-n.a;var u;if(o*s==-1){u=o}else{u=(o+s)/(1+o*s)}u=(u+1)/2;var f=1-u;var l={r:i.r*u+n.r*f,g:i.g*u+n.g*f,b:i.b*u+n.b*f,a:i.a*a+n.a*(1-a)};return h(l)};h.readability=function(t,e){var r=h(t);var n=h(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};h.isReadable=function(t,e,r){var n=h.readability(t,e);var i,a;a=false;i=V(r);switch(i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};h.mostReadable=function(t,e,r){var n=null;var i=0;var a;var o,s,u;r=r||{};o=r.includeFallbackColors;s=r.level;u=r.size;for(var f=0;f<e.length;f++){a=h.readability(t,e[f]);if(a>i){i=a;n=h(e[f])}}if(h.isReadable(t,n,{level:s,size:u})||!o){return n}else{r.includeFallbackColors=false;return h.mostReadable(t,["#fff","#000"],r)}};var R=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var D=h.hexNames=F(R);function F(t){var e={};for(var r in t){if(t.hasOwnProperty(r)){e[t[r]]=r}}return e}function H(t){t=parseFloat(t);if(isNaN(t)||t<0||t>1){t=1}return t}function L(t,e){if(q(t)){t="100%"}var r=U(t);t=u(e,f(0,parseFloat(t)));if(r){t=parseInt(t*e,10)/100}if(o.abs(t-e)<1e-6){return 1}return t%e/parseFloat(e)}function z(t){return u(1,f(0,t))}function N(t){return parseInt(t,16)}function q(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function U(t){return typeof t==="string"&&t.indexOf("%")!=-1}function W(t){return t.length==1?"0"+t:""+t}function X(t){if(t<=1){t=t*100+"%"}return t}function j(t){return Math.round(parseFloat(t)*255).toString(16)}function Y(t){return N(t)/255}var B=function(){var t="[-\\+]?\\d+%?";var e="[-\\+]?\\d*\\.\\d+%?";var r="(?:"+e+")|(?:"+t+")";var n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";var i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(t){t=t.replace(n,"").replace(i,"").toLowerCase();var e=false;if(R[t]){t=R[t];e=true}else if(t=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}var r;if(r=B.rgb.exec(t)){return{r:r[1],g:r[2],b:r[3]}}if(r=B.rgba.exec(t)){return{r:r[1],g:r[2],b:r[3],a:r[4]}}if(r=B.hsl.exec(t)){return{h:r[1],s:r[2],l:r[3]}}if(r=B.hsla.exec(t)){return{h:r[1],s:r[2],l:r[3],a:r[4]}}if(r=B.hsv.exec(t)){return{h:r[1],s:r[2],v:r[3]}}if(r=B.hsva.exec(t)){return{h:r[1],s:r[2],v:r[3],a:r[4]}}if(r=B.hex8.exec(t)){return{a:Y(r[1]),r:N(r[2]),g:N(r[3]),b:N(r[4]),format:e?"name":"hex8"}}if(r=B.hex6.exec(t)){return{r:N(r[1]),g:N(r[2]),b:N(r[3]),format:e?"name":"hex"}}if(r=B.hex3.exec(t)){return{r:N(r[1]+""+r[1]),g:N(r[2]+""+r[2]),b:N(r[3]+""+r[3]),format:e?"name":"hex"}}return false}function V(t){var e,r;t=t||{level:"AA",size:"small"};e=(t.level||"AA").toUpperCase();r=(t.size||"small").toLowerCase();if(e!=="AA"&&e!=="AAA"){e="AA"}if(r!=="small"&&r!=="large"){r="small"}return{level:e,size:r}}if(typeof r!=="undefined"&&r.exports){r.exports=h}else if(typeof t==="function"&&t.amd){t(function(){return h})}else{e.tinycolor=h}})()});var L=H&&typeof H==="object"&&"default"in H?H["default"]:H;function z(t){var e=i.slicedToArray(t,3);var r=e[0];var n=e[1];var a=e[2];var o=L({r:r,g:n,b:a});o.vector=[r,n,a];return o}function N(t){var e=t.toRgb();return[e.r,e.g,e.b]}var q=96;navigator.getUserMedia=MediaDevices&&MediaDevices.getUserMedia||navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;var U=false;var W=false;var X=false;var j=false;var Y=void 0;Y=0;Y=0;var B=[{name:"#noFilter"},{name:"Spin",postsort:function t(e){return e.saturate(20).spin(180)}},{name:"Brighten",postsort:function t(e){return e.brighten(20)}},{name:"Pop",postsort:function t(e){return e.saturate(20).brighten(20)}},{name:"Power Pink",postsort:function t(e){var r=e.toHsv();r.h=310;r.s=.2+r.s*.8;r.v=.2+r.v*.8;return L(r)}}];var G=document.createElement("video");G.width=G.height=q;var V=document.createElement("canvas");V.width=V.height=q;var Q=V.getContext("2d");function $(t){return t.map(z).sort(function(t,e){return t.toHsv().v-e.toHsv().v})}function Z(t,e,r,n){var i=t[0]-e;var a=t[1]-r;var o=t[2]-n;return i*i+a*a+o*o}function J(t){if(!U)throw Error("camera not started");var r=G.videoHeight;var n=G.videoWidth;var i=Math.min(r,n);var a=q*n/i;var o=q*r/i;if(isNaN(a)||isNaN(o))return;Q.drawImage(G,(q-a)/2,(q-o)/2,a,o);var s=Q.getImageData(0,0,q,q);if(!W||t){var u=ColorThief.getPaletteFromCanvas(s,12);if(u){(function(){W=$(u);var t=B[Y];if(!t.presort)t.presort=function(t){return t};if(!t.postsort)t.postsort=function(t){return t};X=W.map(function(e){return N(t.presort(z(e.vector)))});X.forEach(function(t,e){return t.index=e});j=X.map(function(e){return N(t.postsort(z(e)))})})()}}if(W){var f=function t(e,r){var n=s.data[e];var i=s.data[e+1];var a=s.data[e+2];var o=X.sort(function(t,e){return Z(t,n,i,a)-Z(e,n,i,a)})[0];s.data[e]=j[o.index][0];s.data[e+1]=j[o.index][1];s.data[e+2]=j[o.index][2]};for(var l=0,h=s.data.length;l<h;l+=4){f(l,h)}Q.putImageData(s,0,0)}e.stale=true;return V}function K(){return new Promise(function(t){navigator.getUserMedia({video:{width:{ideal:q},height:{ideal:q}}},function(r){U=true;var n=setInterval(function(){return J(true)},2e3);function i(){G.pause();G.src="";r.getTracks()[0].stop();clearInterval(n)}G.src=e.URL.createObjectURL(r);G.play();return t()},function(t){console.error(t)})})}function tt(){return U}var et=function t(e){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];r.context=r.context||this;if(e.render){e.render.bind(e)(r)}};var rt=void 0;var nt=void 0;var it=void 0;var at=void 0;var ot=void 0;function st(t){at=t.sizes;it=t.sprites;ot=t.context;nt=et.bind(t.context);rt=new m(t.width,t.height);it.buffers.buffer1=rt;at=t.sizes}function ut(t){return new Promise(function(e){t.onComplete(e)})}function ft(){return Promise.all([new u.Tween(it.highlight).delay(1200).to({x:it.logo1.width/2+it.highlight.width*3},1e3).easing(u.Easing.Quadratic.InOut).onUpdate(function(){return e.stale=true}).start(),new u.Tween(it.logo1).to({y:(at.screen.height-it.logo1.height)/2},2e3).easing(u.Easing.Elastic.Out).onUpdate(function(){return e.stale=true}).start()].map(ut))}function lt(){return Promise.all([F('<span class="swipe">&lt; SWIPE &gt;</span>'),x("images/temp.jpg")]).then(function(t){var e=t[0];var r=t[1];it.text=e;e.x=(at.screen.width-e.width)/2;e.y=(at.screen.height-e.height)/2;it.bg=r;r.x=(at.screen.width-r.width)/2;r.y=Math.max((at.screen.height-r.height)/2,0);r.opacity=1})}function ht(){if(ht.prototype.starsPromise){return ht.prototype.starsPromise}ht.prototype.starsPromise=Promise.all([w("images/star16.png"),w("images/star32.png"),w("images/star64.png")]).then(function(t){it.buffers.starSmall=t[0];it.buffers.starMed=t[1];it.buffers.starLarge=t[2]});return ht.prototype.starsPromise}function ct(t,e){if(!ct.prototype.promises)ct.prototype.promises=new Map;if(ct.prototype.promises.has(e)){return ct.prototype.promises.get(e)}var r=F(t).then(function(t){return it[e]=t});ct.prototype.promises.set(e,r);return r}function vt(){var t=Math.floor(it.logo1.y+it.logo1.height);it.pageSplitTop=y(0,0,at.screen.width,t);it.pageSplitBottom=y(0,t,at.screen.width,at.screen.height-t);return Promise.all([new u.Tween(it.pageSplitTop).to({y:-it.pageSplitTop.height},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start(),new u.Tween(it.pageSplitBottom).to({y:at.screen.height},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()].map(ut))}function pt(){return Promise.all([F('<div class="logo" data-first="GAMEGIRL" style="font-size: 15vw;"></div>'),F('<div class="logo" data-second="SELFIES" style="font-size: 15vw;"></div>')]).then(function(t){var e=i.slicedToArray(t,2);var r=e[0];var n=e[1];it.logo1=r;it.logo2=n;it.highlight={x:-40-r.width/2,y:-10,width:20,height:80,render:function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var r=e.context||ot;r.globalCompositeOperation="source-atop";r.fillStyle="rgba(255,255,255,0.4)";r.beginPath();r.moveTo(it.logo1.x+this.x+this.width,it.logo1.y+this.y+0);r.lineTo(it.logo1.x+this.x+this.width*2,it.logo1.y+this.y+0);r.lineTo(it.logo1.x+this.x+this.width,it.logo1.y+this.y+this.height);r.lineTo(it.logo1.x+this.x+0,it.logo1.y+this.y+this.height);r.fill()}};r.x=(at.screen.width-r.width)/2;n.x=(at.screen.width-n.width)/2;r.y=0;n.y=r.height})}function dt(){return ht().then(function(){var t=b(at.screen.width*2,at.screen.height*2);t.buffer.context.globalCompositeOperation="source-over";var e=[it.buffers.starSmall,it.buffers.starMed];t.x=0+at.screen.width*.5;t.y=-at.screen.height-at.screen.height*.5;var r=Math.floor(Math.sqrt(at.screen.width*at.screen.width+at.screen.height*at.screen.height)*.2);it.starWipe=t;while(r--){var n=e[Math.floor(Math.random()*2)];var i=Math.random();var a=Math.random();t.buffer.context.drawImage(n,i*at.screen.width*2+.5*at.screen.height*a-n.width/2,i*at.screen.height*2+.5*-at.screen.width*a-n.height/2)}})}function gt(){return Promise.all([new u.Tween(it.starWipe).to({x:"-"+at.screen.width*2.5,y:"+"+at.screen.height*2.5},2e3).onUpdate(function(){return e.stale=true}).start()].map(ut))}var mt=0;function yt(t){requestAnimationFrame(yt);if(mt++%2)return;u.update(t);bt()}function bt(){if(e.stale){e.stale=false;switch(e.state){case"START":d("#C9CAC9");d(undefined,{context:rt.context});it.logo2.y=it.logo1.y+it.logo1.height;nt(it.logo1,{context:rt.context});nt(it.logo2,{context:rt.context});nt(it.highlight,{context:rt.context});ot.drawImage(rt,0,0);break;case"SPLASH":d("lavenderblush");it.bg.dx=it.text.dx*.6;nt(it.bg);nt(it.text);if(it.pageSplitTop){nt(it.pageSplitTop);nt(it.pageSplitBottom)}break;default:d("lavenderblush");nt(it.currentDom);if(it.nextDom){p("lavenderblush",{context:rt.context,opactiy:.2,composite:"source-atop"});nt(it.nextDom,{context:rt.context,opacity:1,composite:"source-atop"});nt(it.starWipe,{context:rt.context});ot.drawImage(rt,0,0)}if(it.bg){it.bg.dx=it.text.dx*.6;nt(it.bg);nt(it.text)}if(tt()&&e.state==="CAMERA"){ot.drawImage(J(),at.viewfinder.left,at.viewfinder.top)}break}}}var wt=Promise.all([f("scripts/color-thief.js")()]);var xt=2;var Tt=void 0;var _t=void 0;var At=document.getElementById("render-target");var Et=document.querySelector("#menuContentForRender");var It=document.querySelector("#cameraContentForRender");var St=document.querySelector("#cameraContentForRender .viewfinder");var Mt=void 0;var Pt={};e.stale=false;e.state="START";var Ot={};Ot.buffers={};function kt(){At.style.width="";At.style.height="";At.style.flexGrow=1;At.style.flexShrink=0;At.style.alignSelf="stretch";var t=At.clientWidth-At.clientWidth%xt;var r=At.clientHeight-At.clientHeight%xt;Tt=t/xt;_t=r/xt;e.stale=true;At.style.flexGrow=0;At.style.flexShrink=0;At.style.alignSelf="center";At.style.width=t+"px";At.style.height=r+"px";At.width=Tt;At.height=_t;Mt=v(At);Pt.screen={width:Tt,height:_t};(function t(){var e={context:Mt,sprites:Ot,sizes:Pt};k(e);c(e);st(e)})();[].slice.call(document.querySelectorAll(".dummy-for-render")).forEach(function(t){t.style.width=Tt+"px";t.style.height=_t+"px";if(t.id!=="svg-to-raster"){t.style.transform="scale("+xt+")"}});Pt.viewfinder={left:St.offsetLeft,top:St.offsetTop,width:St.offsetWidth,height:St.offsetHeight}}e.addEventListener("resize",kt);kt();kt();var Ct=new o(At);var Rt={};Ct.on("pan",function(t){switch(e.state){case"SPLASH":if(t.isFirst){if(Rt.splashTween)Rt.splashTween.stop()}else if(!t.isFinal){Ot.text.dx=t.deltaX/xt;e.stale=true}else if(t.isFinal){(function(){var t=Math.round(Ot.text.dx/Tt)*Tt*2;if(t!==0){Dt("MENU");d(undefined,{context:Ot.buffers.buffer1.context});new u.Tween(Ot.bg).to({opacity:0}).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()}Rt.splashTween=new u.Tween(Ot.text).to({dx:t},1200).easing(t===0?u.Easing.Elastic.Out:u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).onComplete(function(){if(t===0)return;delete Ot.bg;delete Ot.text}).start()})()}break}});function Dt(t,r){var n={star:gt};var i={MENU:Et,CAMERA:It};var a=n[r]||function(){};return ct(i[t],t).then(function(t){Ot.nextDom=t;Object.keys(i).forEach(function(t){return i[t].classList.add("no-interaction")})}).then(a).then(function(){i[t].classList.remove("no-interaction");e.state=t;Ot.currentDom=Ot.nextDom;Ot.nextDom=null;e.stale=true})}Et.addEventListener("click",function(t){if(!t.target.dataset.setState)return;if(t.target.dataset.setState==="CAMERA"){K().then(J).then(function(){return Dt(t.target.dataset.setState,"star")})}else{Dt(t.target.dataset.setState,"star")}});new Promise(function(t){e.addEventListener("load",function r(){e.removeEventListener("load",r);t()})}).then(pt).then(function(){return new Promise(function(t){return requestAnimationFrame(t)})}).then(yt).then(function(){return Promise.all([lt(),dt(),ft(),wt])}).then(function(){return e.state="SPLASH"}).then(function(){return Promise.all([vt()])}).then(function(){delete Ot.logo1;delete Ot.logo2;delete Ot.pageSplitTop;delete Ot.pageSplitBottom}).catch(function(t){throw t})})();
//# sourceMappingURL=main.min.js.map