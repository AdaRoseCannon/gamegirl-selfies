(function(){"use strict";var t=false;var e=e||self;var n=typeof e!=="undefined"?e:typeof global!=="undefined"?global:this;function i(t,e){return e={exports:{}},t(e,e.exports,n),e.exports}var r={};r.slicedToArray=function(){function t(t,e){var n=[];var i=true;var r=false;var a=undefined;try{for(var o=t[Symbol.iterator](),s;!(i=(s=o.next()).done);i=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){r=true;a=t}finally{try{if(!i&&o["return"])o["return"]()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();r.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else{return Array.from(t)}};r;var a=i(function(n){(function(e,i,r,a){"use strict";var o=["","webkit","Moz","MS","ms","o"];var s=i.createElement("div");var u="function";var l=Math.round;var h=Math.abs;var c=Date.now;function f(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){if(Array.isArray(t)){p(t,n[e],n);return true}return false}function p(t,e,n){var i;if(!t){return}if(t.forEach){t.forEach(e,n)}else if(t.length!==a){i=0;while(i<t.length){e.call(n,t[i],i,t);i++}}else{for(i in t){t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}}}function d(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace");var i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var a=e.console&&(e.console.warn||e.console.log);if(a){a.call(e.console,r,i)}return t.apply(this,arguments)}}var g;if(typeof Object.assign!=="function"){g=function t(e){if(e===a||e===null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(e);for(var i=1;i<arguments.length;i++){var r=arguments[i];if(r!==a&&r!==null){for(var o in r){if(r.hasOwnProperty(o)){n[o]=r[o]}}}}return n}}else{g=Object.assign}var m=d(function t(e,n,i){var r=Object.keys(n);var o=0;while(o<r.length){if(!i||i&&e[r[o]]===a){e[r[o]]=n[r[o]]}o++}return e},"extend","Use `assign`.");var y=d(function t(e,n){return m(e,n,true)},"merge","Use `assign`.");function T(t,e,n){var i=e.prototype,r;r=t.prototype=Object.create(i);r.constructor=t;r._super=i;if(n){g(r,n)}}function w(t,e){return function n(){return t.apply(e,arguments)}}function E(t,e){if(typeof t==u){return t.apply(e?e[0]||a:a,e)}return t}function x(t,e){return t===a?e:t}function I(t,e,n){p(M(e),function(e){t.addEventListener(e,n,false)})}function b(t,e,n){p(M(e),function(e){t.removeEventListener(e,n,false)})}function A(t,e){while(t){if(t==e){return true}t=t.parentNode}return false}function S(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n){return t.indexOf(e)}else{var i=0;while(i<t.length){if(n&&t[i][n]==e||!n&&t[i]===e){return i}i++}return-1}}function O(t){return Array.prototype.slice.call(t,0)}function C(t,e,n){var i=[];var r=[];var a=0;while(a<t.length){var o=e?t[a][e]:t[a];if(P(r,o)<0){i.push(t[a])}r[a]=o;a++}if(n){if(!e){i=i.sort()}else{i=i.sort(function t(n,i){return n[e]>i[e]})}}return i}function D(t,e){var n,i;var r=e[0].toUpperCase()+e.slice(1);var s=0;while(s<o.length){n=o[s];i=n?n+r:e;if(i in t){return i}s++}return a}var R=1;function _(){return R++}function F(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}var L=/mobile|tablet|ip(ad|hone|od)|android/i;var z="ontouchstart"in e;var N=D(e,"PointerEvent")!==a;var q=z&&L.test(navigator.userAgent);var k="touch";var U="pen";var X="mouse";var W="kinect";var Y=25;var H=1;var B=2;var j=4;var V=8;var Q=1;var G=2;var Z=4;var $=8;var J=16;var K=G|Z;var tt=$|J;var et=K|tt;var nt=["x","y"];var it=["clientX","clientY"];function rt(t,e){var n=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){if(E(t.options.enable,[t])){n.handler(e)}};this.init()}rt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler);this.evTarget&&I(this.target,this.evTarget,this.domHandler);this.evWin&&I(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler);this.evTarget&&b(this.target,this.evTarget,this.domHandler);this.evWin&&b(F(this.element),this.evWin,this.domHandler)}};function at(t){var e;var n=t.options.inputClass;if(n){e=n}else if(N){e=St}else if(q){e=Ft}else if(!z){e=Et}else{e=zt}return new e(t,ot)}function ot(t,e,n){var i=n.pointers.length;var r=n.changedPointers.length;var a=e&H&&i-r===0;var o=e&(j|V)&&i-r===0;n.isFirst=!!a;n.isFinal=!!o;if(a){t.session={}}n.eventType=e;st(t,n);t.emit("hammer.input",n);t.recognize(n);t.session.prevInput=n}function st(t,e){var n=t.session;var i=e.pointers;var r=i.length;if(!n.firstInput){n.firstInput=ht(e)}if(r>1&&!n.firstMultiple){n.firstMultiple=ht(e)}else if(r===1){n.firstMultiple=false}var a=n.firstInput;var o=n.firstMultiple;var s=o?o.center:a.center;var u=e.center=ct(i);e.timeStamp=c();e.deltaTime=e.timeStamp-a.timeStamp;e.angle=dt(s,u);e.distance=pt(s,u);ut(n,e);e.offsetDirection=vt(e.deltaX,e.deltaY);var l=ft(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x;e.overallVelocityY=l.y;e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y;e.scale=o?mt(o.pointers,i):1;e.rotation=o?gt(o.pointers,i):0;e.maxPointers=!n.prevInput?e.pointers.length:e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers;lt(n,e);var f=t.element;if(A(e.srcEvent.target,f)){f=e.srcEvent.target}e.target=f}function ut(t,e){var n=e.center;var i=t.offsetDelta||{};var r=t.prevDelta||{};var a=t.prevInput||{};if(e.eventType===H||a.eventType===j){r=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0};i=t.offsetDelta={x:n.x,y:n.y}}e.deltaX=r.x+(n.x-i.x);e.deltaY=r.y+(n.y-i.y)}function lt(t,e){var n=t.lastInterval||e,i=e.timeStamp-n.timeStamp,r,o,s,u;if(e.eventType!=V&&(i>Y||n.velocity===a)){var l=e.deltaX-n.deltaX;var c=e.deltaY-n.deltaY;var f=ft(i,l,c);o=f.x;s=f.y;r=h(f.x)>h(f.y)?f.x:f.y;u=vt(l,c);t.lastInterval=e}else{r=n.velocity;o=n.velocityX;s=n.velocityY;u=n.direction}e.velocity=r;e.velocityX=o;e.velocityY=s;e.direction=u}function ht(t){var e=[];var n=0;while(n<t.pointers.length){e[n]={clientX:l(t.pointers[n].clientX),clientY:l(t.pointers[n].clientY)};n++}return{timeStamp:c(),pointers:e,center:ct(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ct(t){var e=t.length;if(e===1){return{x:l(t[0].clientX),y:l(t[0].clientY)}}var n=0,i=0,r=0;while(r<e){n+=t[r].clientX;i+=t[r].clientY;r++}return{x:l(n/e),y:l(i/e)}}function ft(t,e,n){return{x:e/t||0,y:n/t||0}}function vt(t,e){if(t===e){return Q}if(h(t)>=h(e)){return t<0?G:Z}return e<0?$:J}function pt(t,e,n){if(!n){n=nt}var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function dt(t,e,n){if(!n){n=nt}var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.atan2(r,i)*180/Math.PI}function gt(t,e){return dt(e[1],e[0],it)+dt(t[1],t[0],it)}function mt(t,e){return pt(e[0],e[1],it)/pt(t[0],t[1],it)}var yt={mousedown:H,mousemove:B,mouseup:j};var Tt="mousedown";var wt="mousemove mouseup";function Et(){this.evEl=Tt;this.evWin=wt;this.allow=true;this.pressed=false;rt.apply(this,arguments)}T(Et,rt,{handler:function t(e){var n=yt[e.type];if(n&H&&e.button===0){this.pressed=true}if(n&B&&e.which!==1){n=j}if(!this.pressed||!this.allow){return}if(n&j){this.pressed=false}this.callback(this.manager,n,{pointers:[e],changedPointers:[e],pointerType:X,srcEvent:e})}});var xt={pointerdown:H,pointermove:B,pointerup:j,pointercancel:V,pointerout:V};var It={2:k,3:U,4:X,5:W};var bt="pointerdown";var At="pointermove pointerup pointercancel";if(e.MSPointerEvent&&!e.PointerEvent){bt="MSPointerDown";At="MSPointerMove MSPointerUp MSPointerCancel"}function St(){this.evEl=bt;this.evWin=At;rt.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}T(St,rt,{handler:function t(e){var n=this.store;var i=false;var r=e.type.toLowerCase().replace("ms","");var a=xt[r];var o=It[e.pointerType]||e.pointerType;var s=o==k;var u=P(n,e.pointerId,"pointerId");if(a&H&&(e.button===0||s)){if(u<0){n.push(e);u=n.length-1}}else if(a&(j|V)){i=true}if(u<0){return}n[u]=e;this.callback(this.manager,a,{pointers:n,changedPointers:[e],pointerType:o,srcEvent:e});if(i){n.splice(u,1)}}});var Mt={touchstart:H,touchmove:B,touchend:j,touchcancel:V};var Pt="touchstart";var Ot="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=Pt;this.evWin=Ot;this.started=false;rt.apply(this,arguments)}T(Ct,rt,{handler:function t(e){var n=Mt[e.type];if(n===H){this.started=true}if(!this.started){return}var i=Dt.call(this,e,n);if(n&(j|V)&&i[0].length-i[1].length===0){this.started=false}this.callback(this.manager,n,{pointers:i[0],changedPointers:i[1],pointerType:k,srcEvent:e})}});function Dt(t,e){var n=O(t.touches);var i=O(t.changedTouches);if(e&(j|V)){n=C(n.concat(i),"identifier",true)}return[n,i]}var Rt={touchstart:H,touchmove:B,touchend:j,touchcancel:V};var _t="touchstart touchmove touchend touchcancel";function Ft(){this.evTarget=_t;this.targetIds={};rt.apply(this,arguments)}T(Ft,rt,{handler:function t(e){var n=Rt[e.type];var i=Lt.call(this,e,n);if(!i){return}this.callback(this.manager,n,{pointers:i[0],changedPointers:i[1],pointerType:k,srcEvent:e})}});function Lt(t,e){var n=O(t.touches);var i=this.targetIds;if(e&(H|B)&&n.length===1){i[n[0].identifier]=true;return[n,n]}var r,a,o=O(t.changedTouches),s=[],u=this.target;a=n.filter(function(t){return A(t.target,u)});if(e===H){r=0;while(r<a.length){i[a[r].identifier]=true;r++}}r=0;while(r<o.length){if(i[o[r].identifier]){s.push(o[r])}if(e&(j|V)){delete i[o[r].identifier]}r++}if(!s.length){return}return[C(a.concat(s),"identifier",true),s]}function zt(){rt.apply(this,arguments);var t=w(this.handler,this);this.touch=new Ft(this.manager,t);this.mouse=new Et(this.manager,t)}T(zt,rt,{handler:function t(e,n,i){var r=i.pointerType==k,a=i.pointerType==X;if(r){this.mouse.allow=false}else if(a&&!this.mouse.allow){return}if(n&(j|V)){this.mouse.allow=true}this.callback(e,n,i)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});var Nt=D(s.style,"touchAction");var qt=Nt!==a;var kt="compute";var Ut="auto";var Xt="manipulation";var Wt="none";var Yt="pan-x";var Ht="pan-y";function Bt(t,e){this.manager=t;this.set(e)}Bt.prototype={set:function(t){if(t==kt){t=this.compute()}if(qt&&this.manager.element.style){this.manager.element.style[Nt]=t}this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];p(this.manager.recognizers,function(e){if(E(e.options.enable,[e])){t=t.concat(e.getTouchAction())}});return jt(t.join(" "))},preventDefaults:function(t){if(qt){return}var e=t.srcEvent;var n=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var i=this.actions;var r=S(i,Wt);var a=S(i,Ht);var o=S(i,Yt);if(r){var s=t.pointers.length===1;var u=t.distance<2;var l=t.deltaTime<250;if(s&&u&&l){return}}if(o&&a){return}if(r||a&&n&K||o&&n&tt){return this.preventSrc(e)}},preventSrc:function(t){this.manager.session.prevented=true;t.preventDefault()}};function jt(t){if(S(t,Wt)){return Wt}var e=S(t,Yt);var n=S(t,Ht);if(e&&n){return Wt}if(e||n){return e?Yt:Ht}if(S(t,Xt)){return Xt}return Ut}var Vt=1;var Qt=2;var Gt=4;var Zt=8;var $t=Zt;var Jt=16;var Kt=32;function te(t){this.options=g({},this.defaults,t||{});this.id=_();this.manager=null;this.options.enable=x(this.options.enable,true);this.state=Vt;this.simultaneous={};this.requireFail=[]}te.prototype={defaults:{},set:function(t){g(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(v(t,"recognizeWith",this)){return this}var e=this.simultaneous;t=ie(t,this);if(!e[t.id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(v(t,"dropRecognizeWith",this)){return this}t=ie(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(v(t,"requireFailure",this)){return this}var e=this.requireFail;t=ie(t,this);if(P(e,t)===-1){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this)){return this}t=ie(t,this);var e=P(this.requireFail,t);if(e>-1){this.requireFail.splice(e,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this;var n=this.state;function i(n){e.manager.emit(n,t)}if(n<Zt){i(e.options.event+ee(n))}i(e.options.event);if(t.additionalEvent){i(t.additionalEvent)}if(n>=Zt){i(e.options.event+ee(n))}},tryEmit:function(t){if(this.canEmit()){return this.emit(t)}this.state=Kt},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(Kt|Vt))){return false}t++}return true},recognize:function(t){var e=g({},t);if(!E(this.options.enable,[this,e])){this.reset();this.state=Kt;return}if(this.state&($t|Jt|Kt)){this.state=Vt}this.state=this.process(e);if(this.state&(Qt|Gt|Zt|Jt)){this.tryEmit(e)}},process:function(t){},getTouchAction:function(){},reset:function(){}};function ee(t){if(t&Jt){return"cancel"}else if(t&Zt){return"end"}else if(t&Gt){return"move"}else if(t&Qt){return"start"}return""}function ne(t){if(t==J){return"down"}else if(t==$){return"up"}else if(t==G){return"left"}else if(t==Z){return"right"}return""}function ie(t,e){var n=e.manager;if(n){return n.get(t)}return t}function re(){te.apply(this,arguments)}T(re,te,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state;var n=t.eventType;var i=e&(Qt|Gt);var r=this.attrTest(t);if(i&&(n&V||!r)){return e|Jt}else if(i||r){if(n&j){return e|Zt}else if(!(e&Qt)){return Qt}return e|Gt}return Kt}});function ae(){re.apply(this,arguments);this.pX=null;this.pY=null}T(ae,re,{defaults:{event:"pan",threshold:10,pointers:1,direction:et},getTouchAction:function(){var t=this.options.direction;var e=[];if(t&K){e.push(Ht)}if(t&tt){e.push(Yt)}return e},directionTest:function(t){var e=this.options;var n=true;var i=t.distance;var r=t.direction;var a=t.deltaX;var o=t.deltaY;if(!(r&e.direction)){if(e.direction&K){r=a===0?Q:a<0?G:Z;n=a!=this.pX;i=Math.abs(t.deltaX)}else{r=o===0?Q:o<0?$:J;n=o!=this.pY;i=Math.abs(t.deltaY)}}t.direction=r;return n&&i>e.threshold&&r&e.direction},attrTest:function(t){return re.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=ne(t.direction);if(e){t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function oe(){re.apply(this,arguments)}T(oe,re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function se(){te.apply(this,arguments);this._timer=null;this._input=null}T(se,te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var i=t.distance<e.threshold;var r=t.deltaTime>e.time;this._input=t;if(!i||!n||t.eventType&(j|V)&&!r){this.reset()}else if(t.eventType&H){this.reset();this._timer=f(function(){this.state=$t;this.tryEmit()},e.time,this)}else if(t.eventType&j){return $t}return Kt},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state!==$t){return}if(t&&t.eventType&j){this.manager.emit(this.options.event+"up",t)}else{this._input.timeStamp=c();this.manager.emit(this.options.event,this._input)}}});function ue(){re.apply(this,arguments)}T(ue,re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}});function le(){re.apply(this,arguments)}T(le,re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|tt,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction;var n;if(e&(K|tt)){n=t.overallVelocity}else if(e&K){n=t.overallVelocityX}else if(e&tt){n=t.overallVelocityY}return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(n)>this.options.velocity&&t.eventType&j},emit:function(t){var e=ne(t.offsetDirection);if(e){this.manager.emit(this.options.event+e,t)}this.manager.emit(this.options.event,t)}});function he(){te.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}T(he,te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var i=t.distance<e.threshold;var r=t.deltaTime<e.time;this.reset();if(t.eventType&H&&this.count===0){return this.failTimeout()}if(i&&r&&n){if(t.eventType!=j){return this.failTimeout()}var a=this.pTime?t.timeStamp-this.pTime<e.interval:true;var o=!this.pCenter||pt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;if(!o||!a){this.count=1}else{this.count+=1}this._input=t;var s=this.count%e.taps;if(s===0){if(!this.hasRequireFailures()){return $t}else{this._timer=f(function(){this.state=$t;this.tryEmit()},e.interval,this);return Qt}}}return Kt},failTimeout:function(){this._timer=f(function(){this.state=Kt},this.options.interval,this);return Kt},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==$t){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function ce(t,e){e=e||{};e.recognizers=x(e.recognizers,ce.defaults.preset);return new pe(t,e)}ce.VERSION="2.0.6";ce.defaults={domEvents:false,touchAction:kt,enable:true,inputTarget:null,inputClass:null,preset:[[ue,{enable:false}],[oe,{enable:false},["rotate"]],[le,{direction:K}],[ae,{direction:K},["swipe"]],[he],[he,{event:"doubletap",taps:2},["tap"]],[se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fe=1;var ve=2;function pe(t,e){this.options=g({},ce.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.element=t;this.input=at(this);this.touchAction=new Bt(this,this.options.touchAction);de(this,true);p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}pe.prototype={set:function(t){g(this.options,t);if(t.touchAction){this.touchAction.update()}if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?ve:fe},recognize:function(t){var e=this.session;if(e.stopped){return}this.touchAction.preventDefaults(t);var n;var i=this.recognizers;var r=e.curRecognizer;if(!r||r&&r.state&$t){r=e.curRecognizer=null}var a=0;while(a<i.length){n=i[a];if(e.stopped!==ve&&(!r||n==r||n.canRecognizeWith(r))){n.recognize(t)}else{n.reset()}if(!r&&n.state&(Qt|Gt|Zt)){r=e.curRecognizer=n}a++}},get:function(t){if(t instanceof te){return t}var e=this.recognizers;for(var n=0;n<e.length;n++){if(e[n].options.event==t){return e[n]}}return null},add:function(t){if(v(t,"add",this)){return this}var e=this.get(t.options.event);if(e){this.remove(e)}this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(v(t,"remove",this)){return this}t=this.get(t);if(t){var e=this.recognizers;var n=P(e,t);if(n!==-1){e.splice(n,1);this.touchAction.update()}}return this},on:function(t,e){var n=this.handlers;p(M(t),function(t){n[t]=n[t]||[];n[t].push(e)});return this},off:function(t,e){var n=this.handlers;p(M(t),function(t){if(!e){delete n[t]}else{n[t]&&n[t].splice(P(n[t],e),1)}});return this},emit:function(t,e){if(this.options.domEvents){ge(t,e)}var n=this.handlers[t]&&this.handlers[t].slice();if(!n||!n.length){return}e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};var i=0;while(i<n.length){n[i](e);i++}},destroy:function(){this.element&&de(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function de(t,e){var n=t.element;if(!n.style){return}p(t.options.cssProps,function(t,i){n.style[D(n.style,i)]=e?t:""})}function ge(t,e){var n=i.createEvent("Event");n.initEvent(t,true,true);n.gesture=e;e.target.dispatchEvent(n)}g(ce,{INPUT_START:H,INPUT_MOVE:B,INPUT_END:j,INPUT_CANCEL:V,STATE_POSSIBLE:Vt,STATE_BEGAN:Qt,STATE_CHANGED:Gt,STATE_ENDED:Zt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:Q,DIRECTION_LEFT:G,DIRECTION_RIGHT:Z,DIRECTION_UP:$,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:tt,DIRECTION_ALL:et,Manager:pe,Input:rt,TouchAction:Bt,TouchInput:Ft,MouseInput:Et,PointerEventInput:St,TouchMouseInput:zt,SingleTouchInput:Ct,Recognizer:te,AttrRecognizer:re,Tap:he,Pan:ae,Swipe:le,Pinch:oe,Rotate:ue,Press:se,on:I,off:b,each:p,merge:y,extend:m,assign:g,inherit:T,bindFn:w,prefixed:D});var me=typeof e!=="undefined"?e:typeof self!=="undefined"?self:{};me.Hammer=ce;if(typeof t==="function"&&t.amd){t(function(){return ce})}else if(typeof n!="undefined"&&n.exports){n.exports=ce}else{e[r]=ce}})(e,document,"Hammer")});var o=a&&typeof a==="object"&&"default"in a?a["default"]:a;var s=i(function(i,r,a){(function(){if("performance"in e===false){e.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in e.performance===false){var t=e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}})();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);if(n!==-1){t.splice(n,1)}},update:function(n){if(t.length===0){return false}var i=0;n=n!==undefined?n:e.performance.now();while(i<t.length){if(t[i].update(n)){i++}else{t.splice(i,1)}}return true}}}();o.Tween=function(t){var n=t;var i={};var r={};var a={};var s=1e3;var u=0;var l=false;var h=false;var c=false;var f=0;var v=null;var p=o.Easing.Linear.None;var d=o.Interpolation.Linear;var g=[];var m=null;var y=false;var T=null;var w=null;var E=null;for(var x in t){i[x]=parseFloat(t[x],10)}this.to=function(t,e){if(e!==undefined){s=e}r=t;return this};this.start=function(t){o.add(this);h=true;y=false;v=t!==undefined?t:e.performance.now();v+=f;for(var s in r){if(r[s]instanceof Array){if(r[s].length===0){continue}r[s]=[n[s]].concat(r[s])}if(i[s]===undefined){continue}i[s]=n[s];if(i[s]instanceof Array===false){i[s]*=1}a[s]=i[s]||0}return this};this.stop=function(){if(!h){return this}o.remove(this);h=false;if(E!==null){E.call(n)}this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var t=0,e=g.length;t<e;t++){g[t].stop()}};this.delay=function(t){f=t;return this};this.repeat=function(t){u=t;return this};this.yoyo=function(t){l=t;return this};this.easing=function(t){p=t;return this};this.interpolation=function(t){d=t;return this};this.chain=function(){g=arguments;return this};this.onStart=function(t){m=t;return this};this.onUpdate=function(t){T=t;return this};this.onComplete=function(t){w=t;return this};this.onStop=function(t){E=t;return this};this.update=function(t){var e;var o;var h;if(t<v){return true}if(y===false){if(m!==null){m.call(n)}y=true}o=(t-v)/s;o=o>1?1:o;h=p(o);for(e in r){if(i[e]===undefined){continue}var E=i[e]||0;var x=r[e];if(x instanceof Array){n[e]=d(x,h)}else{if(typeof x==="string"){if(x.startsWith("+")||x.startsWith("-")){x=E+parseFloat(x,10)}else{x=parseFloat(x,10)}}if(typeof x==="number"){n[e]=E+(x-E)*h}}}if(T!==null){T.call(n,h)}if(o===1){if(u>0){if(isFinite(u)){u--}for(e in a){if(typeof r[e]==="string"){a[e]=a[e]+parseFloat(r[e],10)}if(l){var I=a[e];a[e]=r[e];r[e]=I}i[e]=a[e]}if(l){c=!c}v=t+f;return true}else{if(w!==null){w.call(n)}for(var b=0,A=g.length;b<A;b++){g[b].start(v+s)}return false}}return true}};o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e;var n=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=i/4}else{e=i*Math.asin(1/n)/(2*Math.PI)}return-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},Out:function(t){var e;var n=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=i/4}else{e=i*Math.asin(1/n)/(2*Math.PI)}return n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},InOut:function(t){var e;var n=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=i/4}else{e=i*Math.asin(1/n)/(2*Math.PI)}if((t*=2)<1){return-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))}return n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},InOut:function(t){if(t<.5){return o.Easing.Bounce.In(t*2)*.5}return o.Easing.Bounce.Out(t*2-1)*.5+.5}}};o.Interpolation={Linear:function(t,e){var n=t.length-1;var i=n*e;var r=Math.floor(i);var a=o.Interpolation.Utils.Linear;if(e<0){return a(t[0],t[1],i)}if(e>1){return a(t[n],t[n-1],n-i)}return a(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){var n=0;var i=t.length-1;var r=Math.pow;var a=o.Interpolation.Utils.Bernstein;for(var s=0;s<=i;s++){n+=r(1-e,i-s)*r(e,s)*t[s]*a(i,s)}return n},CatmullRom:function(t,e){var n=t.length-1;var i=n*e;var r=Math.floor(i);var a=o.Interpolation.Utils.CatmullRom;if(t[0]===t[n]){if(e<0){r=Math.floor(i=n*(1+e))}return a(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)}else{if(e<0){return t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0])}if(e>1){return t[n]-(a(t[n],t[n],t[n-1],t[n-1],i-n)-t[n])}return a(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)}},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e]){return t[e]}for(var i=e;i>1;i--){n*=i}t[e]=n;return n}}(),CatmullRom:function(t,e,n,i,r){var a=(n-t)*.5;var o=(i-e)*.5;var s=r*r;var u=r*s;return(2*e-2*n+a+o)*u+(-3*e+3*n-2*a-o)*s+a*r+e}}};(function(e){if(typeof t==="function"&&t.amd){t([],function(){return o})}else if(typeof i!=="undefined"&&typeof r==="object"){i.exports=o}else if(e!==undefined){e.TWEEN=o}})(n)});var u=s&&typeof s==="object"&&"default"in s?s["default"]:s;function l(t){var e=new Promise(function(e,n){var i=document.createElement("script");i.setAttribute("src",t);document.head.appendChild(i);i.onload=e;i.onerror=n});function n(){return e}n.promise=e;return n}var h=void 0;var c=void 0;var f=void 0;function v(t){h=t.width;c=t.height;f=t.context}function p(t){var e=t.getContext("2d");e.mozImageSmoothingEnabled=false;e.webkitImageSmoothingEnabled=false;e.msImageSmoothingEnabled=false;e.imageSmoothingEnabled=false;return e}function d(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var n=e.context||f;n.globalCompositeOperation=e.composite||"source-over";n.rect(0,0,h,c);var i=n.fillStyle;n.fillStyle=t;n.fill();n.fillStyle=i}function g(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];(e.context||f).clearRect(0,0,h,c);if(t)d(t)}function m(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var e=t.context||f;e.globalCompositeOperation=t.composite||"source-over";e.globalAlpha=this.opacity===undefined?1:this.opacity;e.drawImage(this.buffer,this.x+(this.dx||0),this.y+(this.dy||0));e.globalAlpha=1}function y(){var t=arguments.length<=0||arguments[0]===undefined?h:arguments[0];var e=arguments.length<=1||arguments[1]===undefined?c:arguments[1];var n=document.createElement("canvas");n.width=t;n.height=e;n.context=n.getContext("2d");return n}function T(t,e,n,i){var r=f.getImageData(t,e,n,i);var a=new y(n,i);a.context.putImageData(r,0,0);return{buffer:a,width:n,height:i,x:t,y:e,render:m}}function w(t){return new Promise(function(e,n){var i=document.createElement("img");i.onload=function t(){e({width:this.width,height:this.height,x:0,y:0,buffer:i,render:m})};i.onerror=function t(e){n(e)};i.src=t})}var E=document.getElementById("svg-to-raster");var x=document.createElement("canvas");var I=p(x);var b=E.querySelector("svg div");var A="data:image/svg+xml;base64,";var S=new XMLSerializer;var M=void 0;var P=void 0;var O=false;function C(t){var e=t.width;var n=t.height;M=e;P=n;x.width=M;x.height=P;E.setAttribute("width",M);E.setAttribute("height",P);[].slice.call(document.querySelectorAll(".dummy-for-render")).forEach(function(t){t.style.width=M+"px";t.style.height=P+"px"});O=true}function D(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++){e[n]=arguments[n]}return Promise.all(e.map(function(t){var e=void 0;var n=void 0;n=t.getAttribute("src");if(n){e="src"}else{n=t.getAttribute("href");e="href"}if(!n)return Promise.reject("No url");return fetch(n).then(function(t){return t.blob()}).then(function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)};n.readAsDataURL(t)})}).then(function(n){return t.setAttribute(e,n)}).then(function(){return new Promise(function(t){return setTimeout(t,160)})})}))}var R=D.apply(undefined,r.toConsumableArray(E.querySelectorAll("link")));var _=Promise.resolve();function F(t){if(!O)throw Error("Need to init svg-render with width and height");_=_.then(function(){return R}).then(function(){return new Promise(function(e){if(typeof t==="string"){b.innerHTML=t}else{var n=t.cloneNode(true);n.classList.remove("fake-render");b.appendChild(n)}var i=A+btoa(S.serializeToString(E));var r=document.createElement("img");r.onload=a;r.src=i;function a(){setTimeout(o,32)}function o(){var t={x:[M,0],y:[P,0]};I.clearRect(0,0,M,P);I.drawImage(r,0,0);var n=I.getImageData(0,0,M,P);for(var i=0;i<P;i++){for(var a=0;a<M;a++){var o=(i*M+a)*4;if(n.data[o+3]!==0){if(a<t.x[0])t.x[0]=a;if(i<t.y[0])t.y[0]=i;if(a>t.x[1])t.x[1]=a;if(i>t.y[1])t.y[1]=i}}}b.innerHTML="";var s=t.x[1]-t.x[0]+1;var u=t.y[1]-t.y[0]+1;var l=I.getImageData(t.x[0],t.y[0],s,u);I.clearRect(0,0,M,P);var h=new y(s,u);h.context.putImageData(l,0,0);e({
width:s,height:u,buffer:h,x:t.x[0],y:t.y[0],render:m})}})});return _}var L=function t(e){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n.context=this;if(e.render){e.render.bind(e)(n)}};var z=void 0;var N=void 0;var q=void 0;var k=void 0;var U=void 0;var X=void 0;var W=void 0;function Y(t){U=t.width;X=t.height;k=t.sprites;W=t.context;q=L.bind(t.context);z=new y(t.width,t.height);N=L.bind(z.context)}function H(t){return new Promise(function(e){t.onComplete(e)})}function B(){return Promise.all([new u.Tween(k.highlight).delay(1200).to({x:k.logo1.width/2+k.highlight.width*2},1e3).easing(u.Easing.Quadratic.InOut).onUpdate(function(){return e.stale=true}).start(),new u.Tween(k.logo1).to({y:(X-k.logo1.height)/2},2e3).easing(u.Easing.Elastic.Out).onUpdate(function(){return e.stale=true}).start()].map(H))}function j(){return Promise.all([F('<span class="swipe">&lt; SWIPE &gt;</span>'),w("images/temp.jpg")]).then(function(t){var e=t[0];var n=t[1];k.text=e;e.x=(U-e.width)/2;e.y=(X-e.height)/2;k.bg=n;n.x=(U-n.width)/2;n.y=Math.max((X-n.height)/2,0);n.opacity=1})}function V(){return F(document.getElementById("menuContentForRender")).then(function(t){return k.menu=t})}function Q(){var t=Math.floor(k.logo1.y+k.logo1.height);k.pageSplitTop=T(0,0,U,t);k.pageSplitBottom=T(0,t,U,X-t);return Promise.all([new u.Tween(k.pageSplitTop).to({y:-k.pageSplitTop.height},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start(),new u.Tween(k.pageSplitBottom).to({y:X},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()].map(H))}function G(){return Promise.all([F('<div class="logo" data-first="GAMEGIRL" style="font-size: 14px;"></div>'),F('<div class="logo" data-second="SELFIES" style="font-size: 14px;"></div>')]).then(function(t){var e=r.slicedToArray(t,2);var n=e[0];var i=e[1];k.logo1=n;k.logo2=i;k.highlight={x:-30-n.width/2,y:-10,width:15,height:60,render:function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var n=e.context||W;n.globalCompositeOperation="source-atop";n.fillStyle="rgba(255,255,255,0.4)";n.beginPath();n.moveTo(k.logo1.x+this.x+this.width,k.logo1.y+this.y+0);n.lineTo(k.logo1.x+this.x+this.width*2,k.logo1.y+this.y+0);n.lineTo(k.logo1.x+this.x+this.width,k.logo1.y+this.y+this.height);n.lineTo(k.logo1.x+this.x+0,k.logo1.y+this.y+this.height);n.fill()}};n.x=(U-n.width)/2;i.x=(U-i.width)/2;n.y=0;i.y=n.height})}function Z(t){requestAnimationFrame(Z);u.update(t);if(e.stale){e.stale=false;switch(e.state){case"START":g("#C9CAC9");g(undefined,{context:z.context});k.logo2.y=k.logo1.y+k.logo1.height;N(k.logo1);N(k.logo2);N(k.highlight);W.drawImage(z,0,0);break;case"SPLASH":g("lavenderblush");k.bg.dx=k.text.dx*.6;q(k.bg);q(k.text);if(k.pageSplitTop){q(k.pageSplitTop);q(k.pageSplitBottom)}break;case"MENU":g("lavenderblush");q(k.menu);if(k.bg){k.bg.dx=k.text.dx*.6;q(k.bg);q(k.text)}break}}}var $=Promise.all([l("/scripts/color-thief.js")(),l("https://cdn.polyfill.io/v2/polyfill.min.js")()]);var J=3;var K=document.getElementById("render-target");var tt=K.clientWidth-K.clientWidth%J;var et=K.clientHeight-K.clientHeight%J;var nt=tt/J;var it=et/J;e.stale=false;e.state="START";var rt={};K.style.flexGrow=0;K.style.flexShrink=0;K.style.alignSelf="center";K.style.width=tt+"px";K.style.height=et+"px";K.width=nt;K.height=it;var at=p(K);(function t(){var e={width:nt,height:it,context:at,sprites:rt};C(e);v(e);Y(e)})();var ot=new o(K);var st={};ot.on("pan",function(t){switch(e.state){case"SPLASH":if(t.isFirst){if(st.splashTween)st.splashTween.stop()}else if(!t.isFinal){rt.text.dx=t.deltaX/J;e.stale=true}else if(t.isFinal){(function(){var t=Math.round(rt.text.dx/nt)*nt*2;if(t!==0){e.state="MENU";ut.classList.remove("no-interaction");new u.Tween(rt.bg).to({opacity:0}).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()}st.splashTween=new u.Tween(rt.text).to({dx:t},1200).easing(t===0?u.Easing.Elastic.Out:u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).onComplete(function(){if(t===0)return;delete rt.bg;delete rt.text}).start()})()}break}});var ut=document.querySelector("#menuContentForRender");ut.addEventListener("click",function(t){console.log(t.target)});new Promise(function(t){e.addEventListener("load",function n(){e.removeEventListener("load",n);t()})}).then(G).then(function(){return new Promise(function(t){return requestAnimationFrame(t)})}).then(Z).then(function(){return Promise.all([j(),B(),$])}).then(function(){return e.state="SPLASH"}).then(function(){return Promise.all([Q(),V()])}).then(function(){delete rt.logo1;delete rt.logo2;delete rt.pageSplitTop;delete rt.pageSplitBottom}).catch(function(t){throw t})})();
//# sourceMappingURL=main.min.js.map