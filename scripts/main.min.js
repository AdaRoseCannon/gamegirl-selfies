(function(){"use strict";var t=false;var e=e||self;var n=typeof e!=="undefined"?e:typeof global!=="undefined"?global:this;function r(t,e){return e={exports:{}},t(e,e.exports,n),e.exports}var i={};i.slicedToArray=function(){function t(t,e){var n=[];var r=true;var i=false;var a=undefined;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;a=t}finally{try{if(!r&&o["return"])o["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();i.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else{return Array.from(t)}};i;var a=r(function(n){(function(e,r,i,a){"use strict";var o=["","webkit","Moz","MS","ms","o"];var s=r.createElement("div");var u="function";var l=Math.round;var h=Math.abs;var f=Date.now;function c(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){if(Array.isArray(t)){p(t,n[e],n);return true}return false}function p(t,e,n){var r;if(!t){return}if(t.forEach){t.forEach(e,n)}else if(t.length!==a){r=0;while(r<t.length){e.call(n,t[r],r,t);r++}}else{for(r in t){t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}}}function d(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace");var r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var a=e.console&&(e.console.warn||e.console.log);if(a){a.call(e.console,i,r)}return t.apply(this,arguments)}}var g;if(typeof Object.assign!=="function"){g=function t(e){if(e===a||e===null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(e);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!==a&&i!==null){for(var o in i){if(i.hasOwnProperty(o)){n[o]=i[o]}}}}return n}}else{g=Object.assign}var m=d(function t(e,n,r){var i=Object.keys(n);var o=0;while(o<i.length){if(!r||r&&e[i[o]]===a){e[i[o]]=n[i[o]]}o++}return e},"extend","Use `assign`.");var y=d(function t(e,n){return m(e,n,true)},"merge","Use `assign`.");function T(t,e,n){var r=e.prototype,i;i=t.prototype=Object.create(r);i.constructor=t;i._super=r;if(n){g(i,n)}}function w(t,e){return function n(){return t.apply(e,arguments)}}function E(t,e){if(typeof t==u){return t.apply(e?e[0]||a:a,e)}return t}function x(t,e){return t===a?e:t}function I(t,e,n){p(S(e),function(e){t.addEventListener(e,n,false)})}function b(t,e,n){p(S(e),function(e){t.removeEventListener(e,n,false)})}function A(t,e){while(t){if(t==e){return true}t=t.parentNode}return false}function M(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n){return t.indexOf(e)}else{var r=0;while(r<t.length){if(n&&t[r][n]==e||!n&&t[r]===e){return r}r++}return-1}}function O(t){return Array.prototype.slice.call(t,0)}function C(t,e,n){var r=[];var i=[];var a=0;while(a<t.length){var o=e?t[a][e]:t[a];if(P(i,o)<0){r.push(t[a])}i[a]=o;a++}if(n){if(!e){r=r.sort()}else{r=r.sort(function t(n,r){return n[e]>r[e]})}}return r}function D(t,e){var n,r;var i=e[0].toUpperCase()+e.slice(1);var s=0;while(s<o.length){n=o[s];r=n?n+i:e;if(r in t){return r}s++}return a}var R=1;function _(){return R++}function F(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}var L=/mobile|tablet|ip(ad|hone|od)|android/i;var z="ontouchstart"in e;var N=D(e,"PointerEvent")!==a;var q=z&&L.test(navigator.userAgent);var k="touch";var U="pen";var X="mouse";var W="kinect";var Y=25;var H=1;var B=2;var j=4;var V=8;var Q=1;var G=2;var Z=4;var $=8;var J=16;var K=G|Z;var tt=$|J;var et=K|tt;var nt=["x","y"];var rt=["clientX","clientY"];function it(t,e){var n=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){if(E(t.options.enable,[t])){n.handler(e)}};this.init()}it.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler);this.evTarget&&I(this.target,this.evTarget,this.domHandler);this.evWin&&I(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler);this.evTarget&&b(this.target,this.evTarget,this.domHandler);this.evWin&&b(F(this.element),this.evWin,this.domHandler)}};function at(t){var e;var n=t.options.inputClass;if(n){e=n}else if(N){e=Mt}else if(q){e=Ft}else if(!z){e=Et}else{e=zt}return new e(t,ot)}function ot(t,e,n){var r=n.pointers.length;var i=n.changedPointers.length;var a=e&H&&r-i===0;var o=e&(j|V)&&r-i===0;n.isFirst=!!a;n.isFinal=!!o;if(a){t.session={}}n.eventType=e;st(t,n);t.emit("hammer.input",n);t.recognize(n);t.session.prevInput=n}function st(t,e){var n=t.session;var r=e.pointers;var i=r.length;if(!n.firstInput){n.firstInput=ht(e)}if(i>1&&!n.firstMultiple){n.firstMultiple=ht(e)}else if(i===1){n.firstMultiple=false}var a=n.firstInput;var o=n.firstMultiple;var s=o?o.center:a.center;var u=e.center=ft(r);e.timeStamp=f();e.deltaTime=e.timeStamp-a.timeStamp;e.angle=dt(s,u);e.distance=pt(s,u);ut(n,e);e.offsetDirection=vt(e.deltaX,e.deltaY);var l=ct(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x;e.overallVelocityY=l.y;e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y;e.scale=o?mt(o.pointers,r):1;e.rotation=o?gt(o.pointers,r):0;e.maxPointers=!n.prevInput?e.pointers.length:e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers;lt(n,e);var c=t.element;if(A(e.srcEvent.target,c)){c=e.srcEvent.target}e.target=c}function ut(t,e){var n=e.center;var r=t.offsetDelta||{};var i=t.prevDelta||{};var a=t.prevInput||{};if(e.eventType===H||a.eventType===j){i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0};r=t.offsetDelta={x:n.x,y:n.y}}e.deltaX=i.x+(n.x-r.x);e.deltaY=i.y+(n.y-r.y)}function lt(t,e){var n=t.lastInterval||e,r=e.timeStamp-n.timeStamp,i,o,s,u;if(e.eventType!=V&&(r>Y||n.velocity===a)){var l=e.deltaX-n.deltaX;var f=e.deltaY-n.deltaY;var c=ct(r,l,f);o=c.x;s=c.y;i=h(c.x)>h(c.y)?c.x:c.y;u=vt(l,f);t.lastInterval=e}else{i=n.velocity;o=n.velocityX;s=n.velocityY;u=n.direction}e.velocity=i;e.velocityX=o;e.velocityY=s;e.direction=u}function ht(t){var e=[];var n=0;while(n<t.pointers.length){e[n]={clientX:l(t.pointers[n].clientX),clientY:l(t.pointers[n].clientY)};n++}return{timeStamp:f(),pointers:e,center:ft(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ft(t){var e=t.length;if(e===1){return{x:l(t[0].clientX),y:l(t[0].clientY)}}var n=0,r=0,i=0;while(i<e){n+=t[i].clientX;r+=t[i].clientY;i++}return{x:l(n/e),y:l(r/e)}}function ct(t,e,n){return{x:e/t||0,y:n/t||0}}function vt(t,e){if(t===e){return Q}if(h(t)>=h(e)){return t<0?G:Z}return e<0?$:J}function pt(t,e,n){if(!n){n=nt}var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function dt(t,e,n){if(!n){n=nt}var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.atan2(i,r)*180/Math.PI}function gt(t,e){return dt(e[1],e[0],rt)+dt(t[1],t[0],rt)}function mt(t,e){return pt(e[0],e[1],rt)/pt(t[0],t[1],rt)}var yt={mousedown:H,mousemove:B,mouseup:j};var Tt="mousedown";var wt="mousemove mouseup";function Et(){this.evEl=Tt;this.evWin=wt;this.allow=true;this.pressed=false;it.apply(this,arguments)}T(Et,it,{handler:function t(e){var n=yt[e.type];if(n&H&&e.button===0){this.pressed=true}if(n&B&&e.which!==1){n=j}if(!this.pressed||!this.allow){return}if(n&j){this.pressed=false}this.callback(this.manager,n,{pointers:[e],changedPointers:[e],pointerType:X,srcEvent:e})}});var xt={pointerdown:H,pointermove:B,pointerup:j,pointercancel:V,pointerout:V};var It={2:k,3:U,4:X,5:W};var bt="pointerdown";var At="pointermove pointerup pointercancel";if(e.MSPointerEvent&&!e.PointerEvent){bt="MSPointerDown";At="MSPointerMove MSPointerUp MSPointerCancel"}function Mt(){this.evEl=bt;this.evWin=At;it.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}T(Mt,it,{handler:function t(e){var n=this.store;var r=false;var i=e.type.toLowerCase().replace("ms","");var a=xt[i];var o=It[e.pointerType]||e.pointerType;var s=o==k;var u=P(n,e.pointerId,"pointerId");if(a&H&&(e.button===0||s)){if(u<0){n.push(e);u=n.length-1}}else if(a&(j|V)){r=true}if(u<0){return}n[u]=e;this.callback(this.manager,a,{pointers:n,changedPointers:[e],pointerType:o,srcEvent:e});if(r){n.splice(u,1)}}});var St={touchstart:H,touchmove:B,touchend:j,touchcancel:V};var Pt="touchstart";var Ot="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=Pt;this.evWin=Ot;this.started=false;it.apply(this,arguments)}T(Ct,it,{handler:function t(e){var n=St[e.type];if(n===H){this.started=true}if(!this.started){return}var r=Dt.call(this,e,n);if(n&(j|V)&&r[0].length-r[1].length===0){this.started=false}this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:k,srcEvent:e})}});function Dt(t,e){var n=O(t.touches);var r=O(t.changedTouches);if(e&(j|V)){n=C(n.concat(r),"identifier",true)}return[n,r]}var Rt={touchstart:H,touchmove:B,touchend:j,touchcancel:V};var _t="touchstart touchmove touchend touchcancel";function Ft(){this.evTarget=_t;this.targetIds={};it.apply(this,arguments)}T(Ft,it,{handler:function t(e){var n=Rt[e.type];var r=Lt.call(this,e,n);if(!r){return}this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:k,srcEvent:e})}});function Lt(t,e){var n=O(t.touches);var r=this.targetIds;if(e&(H|B)&&n.length===1){r[n[0].identifier]=true;return[n,n]}var i,a,o=O(t.changedTouches),s=[],u=this.target;a=n.filter(function(t){return A(t.target,u)});if(e===H){i=0;while(i<a.length){r[a[i].identifier]=true;i++}}i=0;while(i<o.length){if(r[o[i].identifier]){s.push(o[i])}if(e&(j|V)){delete r[o[i].identifier]}i++}if(!s.length){return}return[C(a.concat(s),"identifier",true),s]}function zt(){it.apply(this,arguments);var t=w(this.handler,this);this.touch=new Ft(this.manager,t);this.mouse=new Et(this.manager,t)}T(zt,it,{handler:function t(e,n,r){var i=r.pointerType==k,a=r.pointerType==X;if(i){this.mouse.allow=false}else if(a&&!this.mouse.allow){return}if(n&(j|V)){this.mouse.allow=true}this.callback(e,n,r)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});var Nt=D(s.style,"touchAction");var qt=Nt!==a;var kt="compute";var Ut="auto";var Xt="manipulation";var Wt="none";var Yt="pan-x";var Ht="pan-y";function Bt(t,e){this.manager=t;this.set(e)}Bt.prototype={set:function(t){if(t==kt){t=this.compute()}if(qt&&this.manager.element.style){this.manager.element.style[Nt]=t}this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];p(this.manager.recognizers,function(e){if(E(e.options.enable,[e])){t=t.concat(e.getTouchAction())}});return jt(t.join(" "))},preventDefaults:function(t){if(qt){return}var e=t.srcEvent;var n=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var r=this.actions;var i=M(r,Wt);var a=M(r,Ht);var o=M(r,Yt);if(i){var s=t.pointers.length===1;var u=t.distance<2;var l=t.deltaTime<250;if(s&&u&&l){return}}if(o&&a){return}if(i||a&&n&K||o&&n&tt){return this.preventSrc(e)}},preventSrc:function(t){this.manager.session.prevented=true;t.preventDefault()}};function jt(t){if(M(t,Wt)){return Wt}var e=M(t,Yt);var n=M(t,Ht);if(e&&n){return Wt}if(e||n){return e?Yt:Ht}if(M(t,Xt)){return Xt}return Ut}var Vt=1;var Qt=2;var Gt=4;var Zt=8;var $t=Zt;var Jt=16;var Kt=32;function te(t){this.options=g({},this.defaults,t||{});this.id=_();this.manager=null;this.options.enable=x(this.options.enable,true);this.state=Vt;this.simultaneous={};this.requireFail=[]}te.prototype={defaults:{},set:function(t){g(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(v(t,"recognizeWith",this)){return this}var e=this.simultaneous;t=re(t,this);if(!e[t.id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(v(t,"dropRecognizeWith",this)){return this}t=re(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(v(t,"requireFailure",this)){return this}var e=this.requireFail;t=re(t,this);if(P(e,t)===-1){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this)){return this}t=re(t,this);var e=P(this.requireFail,t);if(e>-1){this.requireFail.splice(e,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this;var n=this.state;function r(n){e.manager.emit(n,t)}if(n<Zt){r(e.options.event+ee(n))}r(e.options.event);if(t.additionalEvent){r(t.additionalEvent)}if(n>=Zt){r(e.options.event+ee(n))}},tryEmit:function(t){if(this.canEmit()){return this.emit(t)}this.state=Kt},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(Kt|Vt))){return false}t++}return true},recognize:function(t){var e=g({},t);if(!E(this.options.enable,[this,e])){this.reset();this.state=Kt;return}if(this.state&($t|Jt|Kt)){this.state=Vt}this.state=this.process(e);if(this.state&(Qt|Gt|Zt|Jt)){this.tryEmit(e)}},process:function(t){},getTouchAction:function(){},reset:function(){}};function ee(t){if(t&Jt){return"cancel"}else if(t&Zt){return"end"}else if(t&Gt){return"move"}else if(t&Qt){return"start"}return""}function ne(t){if(t==J){return"down"}else if(t==$){return"up"}else if(t==G){return"left"}else if(t==Z){return"right"}return""}function re(t,e){var n=e.manager;if(n){return n.get(t)}return t}function ie(){te.apply(this,arguments)}T(ie,te,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state;var n=t.eventType;var r=e&(Qt|Gt);var i=this.attrTest(t);if(r&&(n&V||!i)){return e|Jt}else if(r||i){if(n&j){return e|Zt}else if(!(e&Qt)){return Qt}return e|Gt}return Kt}});function ae(){ie.apply(this,arguments);this.pX=null;this.pY=null}T(ae,ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:et},getTouchAction:function(){var t=this.options.direction;var e=[];if(t&K){e.push(Ht)}if(t&tt){e.push(Yt)}return e},directionTest:function(t){var e=this.options;var n=true;var r=t.distance;var i=t.direction;var a=t.deltaX;var o=t.deltaY;if(!(i&e.direction)){if(e.direction&K){i=a===0?Q:a<0?G:Z;n=a!=this.pX;r=Math.abs(t.deltaX)}else{i=o===0?Q:o<0?$:J;n=o!=this.pY;r=Math.abs(t.deltaY)}}t.direction=i;return n&&r>e.threshold&&i&e.direction},attrTest:function(t){return ie.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=ne(t.direction);if(e){t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function oe(){ie.apply(this,arguments)}T(oe,ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function se(){te.apply(this,arguments);this._timer=null;this._input=null}T(se,te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var r=t.distance<e.threshold;var i=t.deltaTime>e.time;this._input=t;if(!r||!n||t.eventType&(j|V)&&!i){this.reset()}else if(t.eventType&H){this.reset();this._timer=c(function(){this.state=$t;this.tryEmit()},e.time,this)}else if(t.eventType&j){return $t}return Kt},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state!==$t){return}if(t&&t.eventType&j){this.manager.emit(this.options.event+"up",t)}else{this._input.timeStamp=f();this.manager.emit(this.options.event,this._input)}}});function ue(){ie.apply(this,arguments)}T(ue,ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}});function le(){ie.apply(this,arguments)}T(le,ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|tt,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction;var n;if(e&(K|tt)){n=t.overallVelocity}else if(e&K){n=t.overallVelocityX}else if(e&tt){n=t.overallVelocityY}return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(n)>this.options.velocity&&t.eventType&j},emit:function(t){var e=ne(t.offsetDirection);if(e){this.manager.emit(this.options.event+e,t)}this.manager.emit(this.options.event,t)}});function he(){te.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}T(he,te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var r=t.distance<e.threshold;var i=t.deltaTime<e.time;this.reset();if(t.eventType&H&&this.count===0){return this.failTimeout()}if(r&&i&&n){if(t.eventType!=j){return this.failTimeout()}var a=this.pTime?t.timeStamp-this.pTime<e.interval:true;var o=!this.pCenter||pt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;if(!o||!a){this.count=1}else{this.count+=1}this._input=t;var s=this.count%e.taps;if(s===0){if(!this.hasRequireFailures()){return $t}else{this._timer=c(function(){this.state=$t;this.tryEmit()},e.interval,this);return Qt}}}return Kt},failTimeout:function(){this._timer=c(function(){this.state=Kt},this.options.interval,this);return Kt},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==$t){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function fe(t,e){e=e||{};e.recognizers=x(e.recognizers,fe.defaults.preset);return new pe(t,e)}fe.VERSION="2.0.6";fe.defaults={domEvents:false,touchAction:kt,enable:true,inputTarget:null,inputClass:null,preset:[[ue,{enable:false}],[oe,{enable:false},["rotate"]],[le,{direction:K}],[ae,{direction:K},["swipe"]],[he],[he,{event:"doubletap",taps:2},["tap"]],[se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ce=1;var ve=2;function pe(t,e){this.options=g({},fe.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.element=t;this.input=at(this);this.touchAction=new Bt(this,this.options.touchAction);de(this,true);p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}pe.prototype={set:function(t){g(this.options,t);if(t.touchAction){this.touchAction.update()}if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?ve:ce},recognize:function(t){var e=this.session;if(e.stopped){return}this.touchAction.preventDefaults(t);var n;var r=this.recognizers;var i=e.curRecognizer;if(!i||i&&i.state&$t){i=e.curRecognizer=null}var a=0;while(a<r.length){n=r[a];if(e.stopped!==ve&&(!i||n==i||n.canRecognizeWith(i))){n.recognize(t)}else{n.reset()}if(!i&&n.state&(Qt|Gt|Zt)){i=e.curRecognizer=n}a++}},get:function(t){if(t instanceof te){return t}var e=this.recognizers;for(var n=0;n<e.length;n++){if(e[n].options.event==t){return e[n]}}return null},add:function(t){if(v(t,"add",this)){return this}var e=this.get(t.options.event);if(e){this.remove(e)}this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(v(t,"remove",this)){return this}t=this.get(t);if(t){var e=this.recognizers;var n=P(e,t);if(n!==-1){e.splice(n,1);this.touchAction.update()}}return this},on:function(t,e){var n=this.handlers;p(S(t),function(t){n[t]=n[t]||[];n[t].push(e)});return this},off:function(t,e){var n=this.handlers;p(S(t),function(t){if(!e){delete n[t]}else{n[t]&&n[t].splice(P(n[t],e),1)}});return this},emit:function(t,e){if(this.options.domEvents){ge(t,e)}var n=this.handlers[t]&&this.handlers[t].slice();if(!n||!n.length){return}e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};var r=0;while(r<n.length){n[r](e);r++}},destroy:function(){this.element&&de(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function de(t,e){var n=t.element;if(!n.style){return}p(t.options.cssProps,function(t,r){n.style[D(n.style,r)]=e?t:""})}function ge(t,e){var n=r.createEvent("Event");n.initEvent(t,true,true);n.gesture=e;e.target.dispatchEvent(n)}g(fe,{INPUT_START:H,INPUT_MOVE:B,INPUT_END:j,INPUT_CANCEL:V,STATE_POSSIBLE:Vt,STATE_BEGAN:Qt,STATE_CHANGED:Gt,STATE_ENDED:Zt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:Q,DIRECTION_LEFT:G,DIRECTION_RIGHT:Z,DIRECTION_UP:$,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:tt,DIRECTION_ALL:et,Manager:pe,Input:it,TouchAction:Bt,TouchInput:Ft,MouseInput:Et,PointerEventInput:Mt,TouchMouseInput:zt,SingleTouchInput:Ct,Recognizer:te,AttrRecognizer:ie,Tap:he,Pan:ae,Swipe:le,Pinch:oe,Rotate:ue,Press:se,on:I,off:b,each:p,merge:y,extend:m,assign:g,inherit:T,bindFn:w,prefixed:D});var me=typeof e!=="undefined"?e:typeof self!=="undefined"?self:{};me.Hammer=fe;if(typeof t==="function"&&t.amd){t(function(){return fe})}else if(typeof n!="undefined"&&n.exports){n.exports=fe}else{e[i]=fe}})(e,document,"Hammer")});var o=a&&typeof a==="object"&&"default"in a?a["default"]:a;var s=r(function(r,i,a){(function(){if("performance"in e===false){e.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in e.performance===false){var t=e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}})();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);if(n!==-1){t.splice(n,1)}},update:function(n){if(t.length===0){return false}var r=0;n=n!==undefined?n:e.performance.now();while(r<t.length){if(t[r].update(n)){r++}else{t.splice(r,1)}}return true}}}();o.Tween=function(t){var n=t;var r={};var i={};var a={};var s=1e3;var u=0;var l=false;var h=false;var f=false;var c=0;var v=null;var p=o.Easing.Linear.None;var d=o.Interpolation.Linear;var g=[];var m=null;var y=false;var T=null;var w=null;var E=null;for(var x in t){r[x]=parseFloat(t[x],10)}this.to=function(t,e){if(e!==undefined){s=e}i=t;return this};this.start=function(t){o.add(this);h=true;y=false;v=t!==undefined?t:e.performance.now();v+=c;for(var s in i){if(i[s]instanceof Array){if(i[s].length===0){continue}i[s]=[n[s]].concat(i[s])}if(r[s]===undefined){continue}r[s]=n[s];if(r[s]instanceof Array===false){r[s]*=1}a[s]=r[s]||0}return this};this.stop=function(){if(!h){return this}o.remove(this);h=false;if(E!==null){E.call(n)}this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var t=0,e=g.length;t<e;t++){g[t].stop()}};this.delay=function(t){c=t;return this};this.repeat=function(t){u=t;return this};this.yoyo=function(t){l=t;return this};this.easing=function(t){p=t;return this};this.interpolation=function(t){d=t;return this};this.chain=function(){g=arguments;return this};this.onStart=function(t){m=t;return this};this.onUpdate=function(t){T=t;return this};this.onComplete=function(t){w=t;return this};this.onStop=function(t){E=t;return this};this.update=function(t){var e;var o;var h;if(t<v){return true}if(y===false){if(m!==null){m.call(n)}y=true}o=(t-v)/s;o=o>1?1:o;h=p(o);for(e in i){if(r[e]===undefined){continue}var E=r[e]||0;var x=i[e];if(x instanceof Array){n[e]=d(x,h)}else{if(typeof x==="string"){if(x.startsWith("+")||x.startsWith("-")){x=E+parseFloat(x,10)}else{x=parseFloat(x,10)}}if(typeof x==="number"){n[e]=E+(x-E)*h}}}if(T!==null){T.call(n,h)}if(o===1){if(u>0){if(isFinite(u)){u--}for(e in a){if(typeof i[e]==="string"){a[e]=a[e]+parseFloat(i[e],10)}if(l){var I=a[e];a[e]=i[e];i[e]=I}r[e]=a[e]}if(l){f=!f}v=t+c;return true}else{if(w!==null){w.call(n)}for(var b=0,A=g.length;b<A;b++){g[b].start(v+s)}return false}}return true}};o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e;var n=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=r/4}else{e=r*Math.asin(1/n)/(2*Math.PI)}return-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},Out:function(t){var e;var n=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=r/4}else{e=r*Math.asin(1/n)/(2*Math.PI)}return n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1},InOut:function(t){var e;var n=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!n||n<1){n=1;e=r/4}else{e=r*Math.asin(1/n)/(2*Math.PI)}if((t*=2)<1){return-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))}return n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},InOut:function(t){if(t<.5){return o.Easing.Bounce.In(t*2)*.5}return o.Easing.Bounce.Out(t*2-1)*.5+.5}}};o.Interpolation={Linear:function(t,e){var n=t.length-1;var r=n*e;var i=Math.floor(r);var a=o.Interpolation.Utils.Linear;if(e<0){return a(t[0],t[1],r)}if(e>1){return a(t[n],t[n-1],n-r)}return a(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){var n=0;var r=t.length-1;var i=Math.pow;var a=o.Interpolation.Utils.Bernstein;for(var s=0;s<=r;s++){n+=i(1-e,r-s)*i(e,s)*t[s]*a(r,s)}return n},CatmullRom:function(t,e){var n=t.length-1;var r=n*e;var i=Math.floor(r);var a=o.Interpolation.Utils.CatmullRom;if(t[0]===t[n]){if(e<0){i=Math.floor(r=n*(1+e))}return a(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)}else{if(e<0){return t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0])}if(e>1){return t[n]-(a(t[n],t[n],t[n-1],t[n-1],r-n)-t[n])}return a(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)}},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e]){return t[e]}for(var r=e;r>1;r--){n*=r}t[e]=n;return n}}(),CatmullRom:function(t,e,n,r,i){var a=(n-t)*.5;var o=(r-e)*.5;var s=i*i;var u=i*s;return(2*e-2*n+a+o)*u+(-3*e+3*n-2*a-o)*s+a*i+e}}};(function(e){if(typeof t==="function"&&t.amd){t([],function(){return o})}else if(typeof r!=="undefined"&&typeof i==="object"){r.exports=o}else if(e!==undefined){e.TWEEN=o}})(n)});var u=s&&typeof s==="object"&&"default"in s?s["default"]:s;function l(t){var e=new Promise(function(e,n){var r=document.createElement("script");r.setAttribute("src",t);document.head.appendChild(r);r.onload=e;r.onerror=n});function n(){return e}n.promise=e;return n}var h=void 0;var f=void 0;var c=void 0;function v(t){h=t.width;f=t.height;c=t.context}function p(t){var e=t.getContext("2d");e.mozImageSmoothingEnabled=false;e.webkitImageSmoothingEnabled=false;e.msImageSmoothingEnabled=false;e.imageSmoothingEnabled=false;return e}function d(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var n=e.context||c;n.globalCompositeOperation=e.composite||"source-over";n.rect(0,0,h,f);var r=n.fillStyle;n.fillStyle=t;n.fill();n.fillStyle=r}function g(t){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];(e.context||c).clearRect(0,0,h,f);if(t)d(t)}function m(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var e=t.context||c;e.globalCompositeOperation=t.composite||"source-over";e.globalAlpha=this.opacity===undefined?1:this.opacity;e.drawImage(this.buffer,this.x+(this.dx||0),this.y+(this.dy||0));e.globalAlpha=1}function y(){var t=arguments.length<=0||arguments[0]===undefined?h:arguments[0];var e=arguments.length<=1||arguments[1]===undefined?f:arguments[1];var n=document.createElement("canvas");n.width=t;n.height=e;n.context=n.getContext("2d");return n}function T(t,e,n,r){var i=c.getImageData(t,e,n,r);var a=new y(n,r);a.context.putImageData(i,0,0);return{buffer:a,width:n,height:r,x:t,y:e,render:m}}function w(t){var e=document.createElement("img");return new Promise(function(n,r){e.onerror=function t(e){r(e)};e.onload=function t(){n(e)};e.src=t})}function E(t){return w(t).then(function(t){return{width:t.width,height:t.height,x:0,y:0,buffer:t,render:m}})}var x=document.getElementById("svg-to-raster");var I=document.createElement("canvas");var b=p(I);var A=x.querySelector("svg div");var M="data:image/svg+xml;base64,";var S=new XMLSerializer;var P=void 0;var O=void 0;var C=false;function D(t){var e=t.width;var n=t.height;P=e;O=n;I.width=P;I.height=O;x.setAttribute("width",P);x.setAttribute("height",O);[].slice.call(document.querySelectorAll(".dummy-for-render")).forEach(function(t){t.style.width=P+"px";t.style.height=O+"px"});C=true}function R(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++){e[n]=arguments[n]}return Promise.all(e.map(function(t){var e=void 0;var n=void 0;n=t.getAttribute("src");if(n){e="src"}else{n=t.getAttribute("href");e="href"}if(!n)return Promise.reject("No url");return fetch(n).then(function(t){return t.blob()}).then(function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)};n.readAsDataURL(t)})}).then(function(n){return t.setAttribute(e,n)}).then(function(){return new Promise(function(t){return setTimeout(t,160)})})}))}var _=R.apply(undefined,i.toConsumableArray(x.querySelectorAll("link")));var F=Promise.resolve();function L(t){if(!C)throw Error("Need to init svg-render with width and height");F=F.then(function(){return _}).then(function(){return new Promise(function(e){if(typeof t==="string"){A.innerHTML=t}else{var n=t.cloneNode(true);n.classList.remove("fake-render");A.appendChild(n)}var r=M+btoa(S.serializeToString(x));var i=document.createElement("img");i.onload=a;i.src=r;function a(){setTimeout(o,32)}function o(){var t={x:[P,0],y:[O,0]};b.clearRect(0,0,P,O);b.drawImage(i,0,0);var n=b.getImageData(0,0,P,O);for(var r=0;r<O;r++){for(var a=0;a<P;a++){var o=(r*P+a)*4;if(n.data[o+3]!==0){if(a<t.x[0])t.x[0]=a;if(r<t.y[0])t.y[0]=r;if(a>t.x[1])t.x[1]=a;if(r>t.y[1])t.y[1]=r}}}A.innerHTML="";var s=t.x[1]-t.x[0]+1;var u=t.y[1]-t.y[0]+1;var l=b.getImageData(t.x[0],t.y[0],s,u);b.clearRect(0,0,P,O);var h=new y(s,u);

h.context.putImageData(l,0,0);e({width:s,height:u,buffer:h,x:t.x[0],y:t.y[0],render:m})}})});return F}var z=function t(e){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n.context=this;if(e.render){e.render.bind(e)(n)}};var N=void 0;var q=void 0;var k=void 0;var U=void 0;var X=void 0;var W=void 0;var Y=void 0;function H(t){X=t.width;W=t.height;U=t.sprites;Y=t.context;k=z.bind(t.context);N=new y(t.width,t.height);U.buffers.buffer1=N;q=z.bind(N.context)}function B(t){return new Promise(function(e){t.onComplete(e)})}function j(){return Promise.all([new u.Tween(U.highlight).delay(1200).to({x:U.logo1.width/2+U.highlight.width*2},1e3).easing(u.Easing.Quadratic.InOut).onUpdate(function(){return e.stale=true}).start(),new u.Tween(U.logo1).to({y:(W-U.logo1.height)/2},2e3).easing(u.Easing.Elastic.Out).onUpdate(function(){return e.stale=true}).start()].map(B))}function V(){return Promise.all([L('<span class="swipe">&lt; SWIPE &gt;</span>'),E("images/temp.jpg")]).then(function(t){var e=t[0];var n=t[1];U.text=e;e.x=(X-e.width)/2;e.y=(W-e.height)/2;U.bg=n;n.x=(X-n.width)/2;n.y=Math.max((W-n.height)/2,0);n.opacity=1})}function Q(){return Promise.all([w("images/star16.png"),w("images/star32.png"),w("images/star64.png")]).then(function(t){U.buffers.starSmall=t[0];U.buffers.starMed=t[1];U.buffers.starLarge=t[2]})}function G(){return L(document.getElementById("menuContentForRender")).then(function(t){return U.menu=t})}function Z(){var t=Math.floor(U.logo1.y+U.logo1.height);U.pageSplitTop=T(0,0,X,t);U.pageSplitBottom=T(0,t,X,W-t);return Promise.all([new u.Tween(U.pageSplitTop).to({y:-U.pageSplitTop.height},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start(),new u.Tween(U.pageSplitBottom).to({y:W},1e3).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()].map(B))}function $(){return Promise.all([L('<div class="logo" data-first="GAMEGIRL" style="font-size: 14px;"></div>'),L('<div class="logo" data-second="SELFIES" style="font-size: 14px;"></div>')]).then(function(t){var e=i.slicedToArray(t,2);var n=e[0];var r=e[1];U.logo1=n;U.logo2=r;U.highlight={x:-30-n.width/2,y:-10,width:15,height:60,render:function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var n=e.context||Y;n.globalCompositeOperation="source-atop";n.fillStyle="rgba(255,255,255,0.4)";n.beginPath();n.moveTo(U.logo1.x+this.x+this.width,U.logo1.y+this.y+0);n.lineTo(U.logo1.x+this.x+this.width*2,U.logo1.y+this.y+0);n.lineTo(U.logo1.x+this.x+this.width,U.logo1.y+this.y+this.height);n.lineTo(U.logo1.x+this.x+0,U.logo1.y+this.y+this.height);n.fill()}};n.x=(X-n.width)/2;r.x=(X-r.width)/2;n.y=0;r.y=n.height})}function J(t){requestAnimationFrame(J);u.update(t);if(e.stale){e.stale=false;switch(e.state){case"START":g("#C9CAC9");g(undefined,{context:N.context});U.logo2.y=U.logo1.y+U.logo1.height;q(U.logo1);q(U.logo2);q(U.highlight);Y.drawImage(N,0,0);break;case"SPLASH":g("lavenderblush");U.bg.dx=U.text.dx*.6;k(U.bg);k(U.text);if(U.pageSplitTop){k(U.pageSplitTop);k(U.pageSplitBottom)}break;case"MENU":g("lavenderblush");k(U.menu);if(U.bg){U.bg.dx=U.text.dx*.6;k(U.bg);k(U.text)}N.context.globalCompositeOperation="source-over";var n=[U.buffers.starSmall,U.buffers.starMed][Math.floor(Math.random()*2)];-N.context.drawImage(n,Math.floor(Math.random()*X-n.width/2),Math.floor(Math.random()*W-n.height/2));Y.drawImage(N,0,0);break}}}var K=Promise.all([l("scripts/color-thief.js")()]);var tt=3;var et=document.getElementById("render-target");var nt=et.clientWidth-et.clientWidth%tt;var rt=et.clientHeight-et.clientHeight%tt;var it=nt/tt;var at=rt/tt;e.stale=false;e.state="START";var ot={};ot.buffers={};et.style.flexGrow=0;et.style.flexShrink=0;et.style.alignSelf="center";et.style.width=nt+"px";et.style.height=rt+"px";et.width=it;et.height=at;var st=p(et);(function t(){var e={width:it,height:at,context:st,sprites:ot};D(e);v(e);H(e)})();var ut=new o(et);var lt={};ut.on("pan",function(t){switch(e.state){case"SPLASH":if(t.isFirst){if(lt.splashTween)lt.splashTween.stop()}else if(!t.isFinal){ot.text.dx=t.deltaX/tt;e.stale=true}else if(t.isFinal){(function(){var t=Math.round(ot.text.dx/it)*it*2;if(t!==0){e.state="MENU";ht.classList.remove("no-interaction");g(undefined,{context:ot.buffers.buffer1.context});new u.Tween(ot.bg).to({opacity:0}).easing(u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).start()}lt.splashTween=new u.Tween(ot.text).to({dx:t},1200).easing(t===0?u.Easing.Elastic.Out:u.Easing.Quadratic.Out).onUpdate(function(){return e.stale=true}).onComplete(function(){if(t===0)return;delete ot.bg;delete ot.text}).start()})()}break}});var ht=document.querySelector("#menuContentForRender");ht.addEventListener("click",function(t){console.log(t.target)});new Promise(function(t){e.addEventListener("load",function n(){e.removeEventListener("load",n);t()})}).then($).then(function(){return new Promise(function(t){return requestAnimationFrame(t)})}).then(J).then(function(){return Promise.all([V(),Q(),j(),K])}).then(function(){return e.state="SPLASH"}).then(function(){return Promise.all([Z(),G()])}).then(function(){delete ot.logo1;delete ot.logo2;delete ot.pageSplitTop;delete ot.pageSplitBottom}).catch(function(t){throw t})})();
//# sourceMappingURL=main.min.js.map