(function(){"use strict";var t=false;var n=n||self;var e=typeof n!=="undefined"?n:typeof global!=="undefined"?global:this;function r(t,n){return n={exports:{}},t(n,n.exports,e),n.exports}var i={};i.slicedToArray=function(){function t(t,n){var e=[];var r=true;var i=false;var a=undefined;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){e.push(u.value);if(n&&e.length===n)break}}catch(t){i=true;a=t}finally{try{if(!r&&o["return"])o["return"]()}finally{if(i)throw a}}return e}return function(n,e){if(Array.isArray(n)){return n}else if(Symbol.iterator in Object(n)){return t(n,e)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();i;var a=r(function(r,i,a){(function(){if("performance"in n===false){n.performance={}}Date.now=Date.now||function(){return(new Date).getTime()};if("now"in n.performance===false){var t=n.performance.timing&&n.performance.timing.navigationStart?n.performance.timing.navigationStart:Date.now();n.performance.now=function(){return Date.now()-t}}})();var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var e=t.indexOf(n);if(e!==-1){t.splice(e,1)}},update:function(e){if(t.length===0){return false}var r=0;e=e!==undefined?e:n.performance.now();while(r<t.length){if(t[r].update(e)){r++}else{t.splice(r,1)}}return true}}}();o.Tween=function(t){var e=t;var r={};var i={};var a={};var u=1e3;var f=0;var s=false;var l=false;var h=false;var c=0;var v=null;var g=o.Easing.Linear.None;var d=o.Interpolation.Linear;var m=[];var p=null;var w=false;var y=null;var x=null;var I=null;for(var M in t){r[M]=parseFloat(t[M],10)}this.to=function(t,n){if(n!==undefined){u=n}i=t;return this};this.start=function(t){o.add(this);l=true;w=false;v=t!==undefined?t:n.performance.now();v+=c;for(var u in i){if(i[u]instanceof Array){if(i[u].length===0){continue}i[u]=[e[u]].concat(i[u])}if(r[u]===undefined){continue}r[u]=e[u];if(r[u]instanceof Array===false){r[u]*=1}a[u]=r[u]||0}return this};this.stop=function(){if(!l){return this}o.remove(this);l=false;if(I!==null){I.call(e)}this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var t=0,n=m.length;t<n;t++){m[t].stop()}};this.delay=function(t){c=t;return this};this.repeat=function(t){f=t;return this};this.yoyo=function(t){s=t;return this};this.easing=function(t){g=t;return this};this.interpolation=function(t){d=t;return this};this.chain=function(){m=arguments;return this};this.onStart=function(t){p=t;return this};this.onUpdate=function(t){y=t;return this};this.onComplete=function(t){x=t;return this};this.onStop=function(t){I=t;return this};this.update=function(t){var n;var o;var l;if(t<v){return true}if(w===false){if(p!==null){p.call(e)}w=true}o=(t-v)/u;o=o>1?1:o;l=g(o);for(n in i){if(r[n]===undefined){continue}var I=r[n]||0;var M=i[n];if(M instanceof Array){e[n]=d(M,l)}else{if(typeof M==="string"){if(M.startsWith("+")||M.startsWith("-")){M=I+parseFloat(M,10)}else{M=parseFloat(M,10)}}if(typeof M==="number"){e[n]=I+(M-I)*l}}}if(y!==null){y.call(e,l)}if(o===1){if(f>0){if(isFinite(f)){f--}for(n in a){if(typeof i[n]==="string"){a[n]=a[n]+parseFloat(i[n],10)}if(s){var S=a[n];a[n]=i[n];i[n]=S}r[n]=a[n]}if(s){h=!h}v=t+c;return true}else{if(x!==null){x.call(e)}for(var b=0,O=m.length;b<O;b++){m[b].start(v+u)}return false}}return true}};o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}return-(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r))},Out:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}return e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/r)+1},InOut:function(t){var n;var e=.1;var r=.4;if(t===0){return 0}if(t===1){return 1}if(!e||e<1){e=1;n=r/4}else{n=r*Math.asin(1/e)/(2*Math.PI)}if((t*=2)<1){return-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r))}return e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r)*.5+1}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((n+1)*t-n))}return.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},InOut:function(t){if(t<.5){return o.Easing.Bounce.In(t*2)*.5}return o.Easing.Bounce.Out(t*2-1)*.5+.5}}};o.Interpolation={Linear:function(t,n){var e=t.length-1;var r=e*n;var i=Math.floor(r);var a=o.Interpolation.Utils.Linear;if(n<0){return a(t[0],t[1],r)}if(n>1){return a(t[e],t[e-1],e-r)}return a(t[i],t[i+1>e?e:i+1],r-i)},Bezier:function(t,n){var e=0;var r=t.length-1;var i=Math.pow;var a=o.Interpolation.Utils.Bernstein;for(var u=0;u<=r;u++){e+=i(1-n,r-u)*i(n,u)*t[u]*a(r,u)}return e},CatmullRom:function(t,n){var e=t.length-1;var r=e*n;var i=Math.floor(r);var a=o.Interpolation.Utils.CatmullRom;if(t[0]===t[e]){if(n<0){i=Math.floor(r=e*(1+n))}return a(t[(i-1+e)%e],t[i],t[(i+1)%e],t[(i+2)%e],r-i)}else{if(n<0){return t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0])}if(n>1){return t[e]-(a(t[e],t[e],t[e-1],t[e-1],r-e)-t[e])}return a(t[i?i-1:0],t[i],t[e<i+1?e:i+1],t[e<i+2?e:i+2],r-i)}},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=o.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n]){return t[n]}for(var r=n;r>1;r--){e*=r}t[n]=e;return e}}(),CatmullRom:function(t,n,e,r,i){var a=(e-t)*.5;var o=(r-n)*.5;var u=i*i;var f=i*u;return(2*n-2*e+a+o)*f+(-3*n+3*e-2*a-o)*u+a*i+n}}};(function(n){if(typeof t==="function"&&t.amd){t([],function(){return o})}else if(typeof r!=="undefined"&&typeof i==="object"){r.exports=o}else if(n!==undefined){n.TWEEN=o}})(e)});var o=a&&typeof a==="object"&&"default"in a?a["default"]:a;var u=void 0;var f=void 0;var s=void 0;function l(t){u=t.width;f=t.height;s=t.context}function h(t){var n=t.getContext("2d");n.mozImageSmoothingEnabled=false;n.webkitImageSmoothingEnabled=false;n.msImageSmoothingEnabled=false;n.imageSmoothingEnabled=false;return n}function c(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var e=n.context||s;e.globalCompositeOperation=n.composite||"source-over";e.rect(0,0,u,f);var r=e.fillStyle;e.fillStyle=t;e.fill();e.fillStyle=r}function v(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];(n.context||s).clearRect(0,0,u,f);if(t)c(t)}function g(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var n=t.context||s;if(this.data){if(!this.__buffer){var e=new d(this.width,this.height);e.context.putImageData(this.data,0,0);this.___buffer=e}n.globalCompositeOperation=t.composite||"source-over";n.drawImage(this.___buffer,this.x,this.y)}}function d(){var t=arguments.length<=0||arguments[0]===undefined?u:arguments[0];var n=arguments.length<=1||arguments[1]===undefined?f:arguments[1];var e=document.createElement("canvas");e.width=t;e.height=n;e.context=e.getContext("2d");return e}function m(t,n,e,r){var i=s.getImageData(t,n,e,r);return{data:i,width:e,height:r,x:t,y:n,render:g}}var p=document.getElementById("svg-to-raster");var w=document.createElement("canvas");var y=h(w);var x=p.querySelector("svg div");var I="data:image/svg+xml;base64,";var M=new XMLSerializer;var S=void 0;var b=void 0;var O=false;function E(t){var n=t.width;var e=t.height;S=n;b=e;w.width=S;w.height=b;p.setAttribute("width",S);p.setAttribute("height",b);O=true}var T=function t(){var n=[].slice.call(p.querySelectorAll("link"));return Promise.all(n.map(function(t){var n=t.href;return fetch(n).then(function(t){return t.blob()}).then(function(t){return new Promise(function(n){var e=new FileReader;e.onload=function(t){n(t.target.result)};e.readAsDataURL(t)})}).then(function(n){return t.setAttribute("href",n)}).then(function(){return new Promise(function(t){return setTimeout(t,160)})})}))}();var A=Promise.resolve();function P(t){if(!O)throw Error("Need to init svg-render with width and height");A=A.then(function(){return T}).then(function(){return new Promise(function(n){if(typeof t==="string"){x.innerHTML=t}else{x.appendChild(t.clone(true))}var e=I+btoa(M.serializeToString(p));var r=document.createElement("img");r.onload=i;r.src=e;function i(){setTimeout(a,32)}function a(){var t={x:[S,0],y:[b,0]};y.clearRect(0,0,S,b);y.drawImage(r,0,0);var e=y.getImageData(0,0,S,b);for(var i=0;i<b;i++){for(var a=0;a<S;a++){var o=(i*S+a)*4;if(e.data[o+3]!==0){if(a<t.x[0])t.x[0]=a;if(i<t.y[0])t.y[0]=i;if(a>t.x[1])t.x[1]=a;if(a>t.y[1])t.y[1]=i}}}var u=t.x[1]-t.x[0]+1;var f=t.y[1]-t.y[0]+1;var s=y.getImageData(t.x[0],t.y[0],u,f);y.clearRect(0,0,S,b);n({data:s,width:u,height:f,x:t.x[0],y:t.y[0],render:g})}})});return A}var C=document.getElementById("render-target");var B=C.clientWidth-C.clientWidth%3;var L=C.clientHeight-C.clientHeight%3;var R=B/3;var F=L/3;C.style.flexGrow=0;C.style.flexShrink=0;C.style.alignSelf="center";C.style.width=B+"px";C.style.height=L+"px";C.width=R;C.height=F;var U=h(C);(function t(){var n={width:R,height:F,context:U};E(n);l(n)})();function D(t){return new Promise(function(n){t.onComplete(n)})}Promise.all([P('<div class="logo" data-first="GAMEGIRL" style="font-size: 14px;"></div>'),P('<div class="logo" data-second="SELFIES" style="font-size: 14px;"></div>')]).then(function(t){var n=i.slicedToArray(t,2);var e=n[0];var r=n[1];var a=false;var u=["START","SPLASH","CAMERA"];var f="START";e.x=(R-e.width)/2;r.x=(R-r.width)/2;e.y=0;r.y=e.height;var s={logo1:e,logo2:r,highlight:{x:-30-e.width/2,y:-10,width:15,height:60,render:function t(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var e=n.context||U;e.globalCompositeOperation="source-atop";e.fillStyle="rgba(255,255,255,0.4)";e.beginPath();e.moveTo(s.logo1.x+this.x+this.width,s.logo1.y+this.y+0);e.lineTo(s.logo1.x+this.x+this.width*2,s.logo1.y+this.y+0);e.lineTo(s.logo1.x+this.x+this.width,s.logo1.y+this.y+this.height);e.lineTo(s.logo1.x+this.x+0,s.logo1.y+this.y+this.height);e.fill()}}};var l=function t(n){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];e.context=this;if(n.render){n.render.bind(n)(e)}};var h=l.bind(U);var c=new d;var g=l.bind(c.context);(function t(n){requestAnimationFrame(t);o.update(n);if(a){a=false;switch(f){case"START":v("#C9CAC9");v(undefined,{context:c.context});g(s.logo1);s.logo2.y=s.logo1.y+s.logo1.height;g(s.logo2);g(s.highlight);U.drawImage(c,0,0);break;case"SPLASH":v("lavenderblush");h(s.text);h(s.pageSplitTop);h(s.pageSplitBottom);break}}})();new Promise(function(t){return requestAnimationFrame(t)}).then(function(){return Promise.all([new o.Tween(s.highlight).delay(1200).to({x:s.logo1.width/2+s.highlight.width*2},1e3).easing(o.Easing.Quadratic.InOut).onUpdate(function(){return a=true}).start(),new o.Tween(s.logo1).to({y:(F-s.logo1.height)/2},2e3).easing(o.Easing.Elastic.Out).onUpdate(function(){return a=true}).start()].map(D).concat(P('<span class="swipe">&lt; SWIPE &gt;</span>')))}).then(function(t){f=u[1];var n=Math.floor(s.logo1.y+s.logo1.height);s.pageSplitTop=m(0,0,R,n);s.pageSplitBottom=m(0,n,R,F-n);var e=t[2];s.text=e;e.x=(R-e.width)/2;e.y=F/2;return Promise.all([new o.Tween(s.pageSplitTop).to({y:-s.pageSplitTop.height},1e3).easing(o.Easing.Quadratic.Out).onUpdate(function(){return a=true}).start(),new o.Tween(s.pageSplitBottom).to({y:F},1e3).easing(o.Easing.Quadratic.Out).onUpdate(function(){return a=true}).start()].map(D))})})})();
//# sourceMappingURL=main.min.js.map